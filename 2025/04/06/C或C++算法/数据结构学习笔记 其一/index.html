<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>数据结构学习笔记 其一 | 仓库</title><meta name="keywords" content="c/c++,笔记,数据结构"><meta name="author" content="fufhaha"><meta name="copyright" content="fufhaha"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#18171d"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="数据结构学习笔记 其一"><meta name="application-name" content="数据结构学习笔记 其一"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#18171d"><meta property="og:type" content="article"><meta property="og:title" content="数据结构学习笔记 其一"><meta property="og:url" content="https://huhuha.top/2025/04/06/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%B8%80/index.html"><meta property="og:site_name" content="仓库"><meta property="og:description" content="这是顺序表，链式表，二叉树，邻接表等数据结构的学习笔记"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="/images/202504071512548.jpg"><meta property="article:author" content="fufhaha"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="/images/202504071512548.jpg"><meta name="description" content="这是顺序表，链式表，二叉树，邻接表等数据结构的学习笔记"><link rel="shortcut icon" href="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif"><link rel="canonical" href="https://huhuha.top/2025/04/06/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%B8%80/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><script async="async" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileColor" content="var(--anzhiyu-main)"/><link rel="mask-icon" href="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif" color="#5bbad5"/><link rel="apple-touch-icon" sizes="180x180" href="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif"/><link rel="apple-touch-icon-precomposed" sizes="180x180" href="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif"/><link rel="icon" type="image/png" sizes="32x32" href="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif"/><link rel="icon" type="image/png" sizes="16x16" href="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif"/><link rel="bookmark" href="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2732-2048.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2388.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2388-1668.jpg" media="(device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2048-1536.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2224-1668.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1620-2160.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2160-1620.jpg" media="(device-width: 810px) and (device-height: 1080px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1290-2796.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2796-1290.jpg" media="(device-width: 430px) and (device-height: 932px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1179-2556.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2556-1179.jpg" media="(device-width: 393px) and (device-height: 852px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1284-2778.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2778-1284.jpg" media="(device-width: 428px) and (device-height: 926px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1170-2532.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2532-1170.jpg" media="(device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2436-1125.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2688.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2688-1242.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-828-1792.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1792-828.jpg" media="(device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-2208-1242.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1334-750.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"/><link rel="apple-touch-startup-image" href="/img/siteicon/apple-splash-1136-640.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: {"enable":true,"title":"与数百名博主无限进步","addFriendPlaceholder":"昵称（请勿包含博客等字样）：\n网站地址（要求博客地址，请勿提交个人主页）：\n头像图片url（请提供尽可能清晰的图片，我会上传到我自己的图床）：\n描述：\n站点截图（可选）：\n"},
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2024/07/27/125766904/ba62475f396df9de3316a08ed9e65d86_5680958632268053399..png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"🗺️风向已记录在航海日志，下次再见！","backTitle":"🛡️防御工事运作正常"},
  LA51: undefined,
  greetingBox: {"enable":true,"default":"🌰火堆噼啪作响，烤棉花糖的树枝已经削好啦","list":[{"greeting":"🌙星星在守夜，三只毛茸茸挤成团取暖","startTime":0,"endTime":5},{"greeting":"🌄露水收集罐满当当，晾着晒干的蘑菇串","startTime":6,"endTime":8},{"greeting":"🧺晒着太阳的干草堆，蜜蜂在篱笆外哼歌巡逻","startTime":9,"endTime":11},{"greeting":"🏰午休时间？扩建水下基地的好时机","startTime":12,"endTime":14},{"greeting":"柴火堆成小雪山，篱笆外插满了吓唬野猪的稻草人","startTime":15,"endTime":18},{"greeting":"🗡️夜巡开始！","startTime":19,"endTime":21},{"greeting":"🧶窗台摆满驱赶黑暗的萤石罐，此刻，被夜幕包围的你是安全的","startTime":22,"endTime":23}]},
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  music_page_default: "nav_music",
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":null},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: fufhaha","link":"链接: ","source":"来源: 仓库","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '仓库',
  title: '数据结构学习笔记 其一',
  postAI: '',
  pageFillDescription: '数据结构作业笔记, 1.基于顺序存储结构的线性表实现, 1.1 思路：, 1.2各部分的功能实现：, 1.3原码, 2.基于链式存储结构的线性表实现, 1.1思路：, 1.2各部分的功能实现：, 1.3原码, 3.基于二叉链表的二叉树实现, 1.1思路：, 1.2各部分的功能实现：, 1.3原码：, 4.基于邻接表的图实现, 1.1思路：, 1.2各部分的功能实现：, 1.3原码数据结构作业笔记基于顺序存储结构的线性表实现思路因为是顺序存储结构的线性表就要考虑用数组实现而平时的数组静态的增删麻烦我的思路是动态分配一个数组来做各部分的功能实现头文件主体由数组组成的线性表的构成用于存储指向数据的指针数组的长度跟随后面的增删改操作一起增减用来标记该数组是否被销毁因为要弄个线性表所以我选择开个指针变量用来存储每个线性表数组的首地址初始化表先给每个表后续主函数的开始给每个表动态分配内存指针所指向的地址分配一个大小的初始空间后续直接对根据对内容进行操作状态更新为存在线性表创建成功获取表中对应元素的序号根据长度遍历该表找到序号即可后续的查找查找前后驱插入和删除履历都是一样的遍历操作存入文件和存出文件我这里当时为了能看到文件的内容所以用函数进行操作存入操作基本流程如果找不到就创一个读取操作基本流程如果找不到就创一个这里是我存入的格式表号长度表内容先分配一个临时的空间用来存新的表释放掉要存储表的内存读取成功原码初始状态更新为存在线性表创建成功线性表销毁成功清空线性表线性表不为空线性表为空线性表的长度为后续添加和删除操作的时候查找前驱每次前驱这个初始化一不存请先创建一个表请先创建一个表插入成功删除成功先建表复制成功存档存档写入成功请先创建表存档读取成功先建立该表请输入对哪个线性表进行操作输入退出欢迎下次再使用本系统先给每个表分配下内存的时候记得改增减全部元素复制表请选择你要输入的操作请输入想要获得元素的位置第的元素为几个房间还是一样的转来转去请输入需要查找的元素第个元素与该元素相同请输入需要获得前驱的元素不存在前驱该元素的前驱请输入需要获得其后继的元素不存在后继该元素的后继请依次输入在第个位置之前插入元素请依次输入删除从位到第位的元素删除元素为你选择增减把表复制到基于链式存储结构的线性表实现思路这里是链式存储结构所以应该用链表来实现我的代码用单向链表来实现的其余的构造和作业的基本相同各部分的功能实现头文件主体链式的线性表的构成用于指向下一个链节链式所在这里要用个表所以还是开一个类型的指针数组大小为用来存储每个表的头节点的地址这时就要注意了后续只要函数涉及到链表的构造的变化的比如增删改操作参数的数据类型就不能是比如这里参数的数据类型是即指向指针的指针因为这里的表本身就是由一个指针存储其头节点来维护的所以涉及变化的操作要用指向该头节点指针的指针初始化还是动态分配这时是给头节点分配一个内存此时一个链表只有首节点是有空间的但无赋值线性表创建成功如增删改插入找前后驱的过程核心的步骤是开一个临时节点然后与原来节点轮流替换删除以删除操作的核心为例找前驱这里也是要开一个临时的节点越界请先初始化表清空和判断表是否为空操作都是看首节点的状态读写操作和作业相同链式存档链式存档请先创建表链式存档链式存档原码存储个链表的头指针指针也是一种变量它也有对应的地址链表是靠指针来维护的要在函数中真正做到更改链表可以另外搞个指针指向链表的指针的地址来对其进行操作的优先级要大于线性表创建成功线性表已销毁请先建造表线性表已清空请先初始化表线性表不为空线性表为空越界请先初始化表这里请先创建表这里是第一个的判断该数没有后驱插入成功请先创建表删除位置无效删除成功请先创建表链式存档链式存档请先创建表链式存档链式存档无效范围更新完成请先初始化表请输入你要拼接到的目标表范围无效请先初始化自己这个表请先初始化表请输入对哪个线性表进行操作输入退出欢迎下次再使用本系统改指定范围对该范围所有元素增减表与表的拼接请选择你要输入的操作链表长度为请输入想要获得元素的位置第的元素为请输入需要查找的元素第个元素与该元素相同请输入需要获得前驱的元素不存在前驱该元素的前驱为请输入需要获得其后继的元素不存在后继该元素的后继为请依次输入在第个位置之前插入元素请输入要删除的范围到闭区间请输入要增减元素的范围到以及增减的值以及增减基于二叉链表的二叉树实现思路首先二叉树的前中后序遍历的原理前序根左右中序左根右后序左右根先给出一个二叉树为例对于这棵树的前序这里注意最后一层节点的后一层都是空的都是读到下一层即每个左右节点都是下一子树的根由此递归可补充该部分的空隙来完成二叉树的序的遍历各部分的功能实现头文件组成二叉树节点的结构节点存储的数值左子树指针右子树指针节点标识符如等创建二叉树根据上面的前序原理进行递归创建这里有字填充如果没有字则需要前序中序或者后序中序才能创建一个完整的二叉树根节点指针的指针前序序列字符串指针清空二叉树只释放左右节点的空间保留根节点这样既能通过递归清空又能保留最后的根结点二叉树已销毁清空和销毁的本质在于根节点是否被删除这里是以最初结点的左右节点为递归开始清空的二叉树已清空求二叉树深度也是用递归首先边界条件不断递归然后最终回溯到第一个比较注意这些递归的条件都是当层的和下一层的而下下层的都是通过递归不断地获得但是当前和下一层的条件一定要有剩余查找的函数都是递归比如二叉树为空这个返回的是节点下面的找父母节点也是返回的节点递归的时候就参数多延伸一层删除函数删除操作就要分种情况讨论了每次操作都要用到父母函数然后修改父母的指针删除无子节点删除单叶子结点单节点直接替上删除双叶子结点左节点替上右节点成为左节点孩子节点不存在删除节点没有子节点情况父节点存在若是父节点的左子节点若是父节点的左子节点父节点不存在是根节点把子节点更新为根节点删除节点有个子节点情况判断孩子是左节点还是右节点删除节点有个子节点的情况找到左子树的最右节点循环直到右子树为空的右子树成为的右子树删除完毕遍历操作前中后序主要是递归和输出的不同导致序的不同前序中序后序由这可知如果没有占位空格通过序我们可以得到整个二叉树层序遍历主要是队列要用一个队列的结构体二叉树不存在写入和读取操作这里我是用二进制的方式进行的当前节点为空写入标记空节点写入节点的字符标识符如写入节点的整数值二进制格式递归写入左子树递归写入右子树二叉树存档以二进制写模式打开文件无法打开文件调用递归写入函数关闭文件读取一个字符节点标识符或空节点标记当前节点指针置空为非空节点分配内存设置节点标识符读取节点的整数值计数器递增递归读取左子树递归读取右子树二叉树存档以二进制读模式打开文件文件打开失败处理无法打开文件调用递归读取函数关闭文件原码二叉树已销毁清空和销毁的本质在于根节点是否被删除二叉树已清空二叉树不存在二叉树存在二叉树为空节点是根节点无兄弟可能是这个节点不存在删除完毕二叉树不存在二叉树存档无法打开文件二叉树存档无法打开文件树为空分配位置映射数组根节点居中存储节点指针打印请输入对哪个二叉树进行操作输入退出改图显计算请选择你的操作请输入你要创建的二叉树的前序遍历二叉树创建成功二叉树的深度为请输入你要查询节点的关键词该节点为请输入你要赋值的节点的关键词与要赋值的值请输入你要查询节点的关键词该节点的兄弟节点为请输入你要插入位置的关键词左右关系要插入节点的关键词数据请输入你要删除节点的关键词请输入你要开始前序遍历的节点的关键词前序遍历中序遍历后序遍历按层遍历二叉树存档写入成功二叉树存档读取成功显示二叉树该树的是欢迎下次再使用本系统基于邻接表的图实现思路通过链式结构来存图然后以顶点为入口通过访问每个顶点的边链表从而遍历整个图的边各部分的功能实现头文件这个作业我用了宏可读性强一些图的结构组成我是先构造节点然后再构造图表示从第个顶点出发的边的链表第个顶点的名称字符标记顶点是否存在顶点数和边数然后就是创建个图的操作看起来只有一个指针但其实根据结构体的嵌套定义和前面个作业的定义差不多核心操作就是遍历顶点然后寻找这是定位顶点操作的核心步骤创建图初始化图先初始化顶点数组构建邻接表创建新节点并插入邻接表尾部然后销毁图就是一直履历图到底一个个销毁释放邻接表节点插入新顶点图指针顶点关键字顶点存储的值注意到的类型转换寻找第一个空闲位置注意到的类型转换赋值就调用定位函数然后赋值获取指定邻接顶点的下一个邻接顶点遍历邻接表寻找下一个节点插入新边我是用头插越界要返回越界处理一定不要忘记头插法插入新边删除边遍历邻接表删除指定边如果当前节点的目标顶点是说明找到了该边如果不为空表示要删除的节点不是链表的第一个节点删除当前节点将前一个节点的指向当前节点的下一个节点如果为空表示当前节点是链表的第一个节点更新顶点的邻接链表头指针删除顶点及相关边只操作一个顶点的邻接链表删除该顶点到另一顶点的边需要处理当前顶点的出边还需要遍历所有其他顶点的邻接链表删除指向当前顶点的入边删除顶点的出边删除其他顶点的入边的不断递归遍历基于队列的遍历使用队列实现写入操作这里还是用二进制存入的方法打开文件二进制写入模式无法写入写入顶点数和边数写入顶点数写入边数写入顶点数据如果顶点存在写入顶点索引写入顶点关键字写入顶点值这里定义一个结束标记写入结束标记如果顶点不存在则跳过遍历当前顶点的邻接链表当前顶点邻接顶点写入边的起始顶点写入边的终止顶点移动到下一个邻接点写入结束标记关闭文件读取操作打开文件二进制读取模式无法读取清空图读取顶点数和边数读取顶点数读取边数读取顶点数据读取顶点索引遇到结束标记则结束读取读取顶点关键字读取顶点值标记该顶点存在读取边数据并重建邻接表读取边的起始顶点遇到结束标记则结束读取读取边的终止顶点设置边的终止顶点这个边是链表中的最后一个节点这里是用尾插法重建邻接表如果该顶点没有邻接表直接插入遍历到邻接链表的尾部将新节点插入到链表的末尾关闭文件原码赋值成功赋值失败无法写入二进制存无法读取请输入对哪个图进行操作输入退出请选择你要输入的操作请输入图的顶点数和弧数请输入个顶点请输入个弧图创建成功图已销毁请输入需要查找的顶点关键字该顶点的位序是请输入需要赋值顶点的关键字和所赋的值请输入需要获取第一邻接点的顶点的关键字该顶点的第一邻接顶点的位序为该顶点不存在邻接顶点请输入需要获得下一邻接点的顶点的关键字及邻接点位序下一邻接顶点的位序为顶点没有下一邻接顶点请输入需要插入顶点的关键字和所赋值插入成功顶点已存在插入失败请输入要删除的顶点的关键字删除成功删除失败请输入需要插入弧的顶点的关键字插入成功请输入需要删除弧的顶点的关键字删除成功请输入遍历第一个顶点的关键字遍历结果邻接表存档邻接表存档邻接表存档邻接表存档欢迎下次再使用本系统',
  isPost: true,
  isHome: false,
  isHighlightShrink: true,
  isToc: true,
  postUpdate: '2025-04-06 00:00:00',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src="/images/帝君喝茶.gif" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src="/images/茶水.gif" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">仓库</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/c/" style="font-size: 1.05rem;">c++<sup>1</sup></a><a href="/tags/c-c/" style="font-size: 1.05rem;">c/c++<sup>11</sup></a><a href="/tags/%E5%88%B7%E9%A2%98/" style="font-size: 1.05rem;">刷题<sup>3</sup></a><a href="/tags/%E5%8C%97%E8%88%AA/" style="font-size: 1.05rem;">北航<sup>6</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.05rem;">博客<sup>1</sup></a><a href="/tags/%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB%E7%AE%97%E6%B3%95/" style="font-size: 1.05rem;">图像识别算法<sup>4</sup></a><a href="/tags/%E5%A4%87%E8%B5%9B/" style="font-size: 1.05rem;">备赛<sup>1</sup></a><a href="/tags/%E5%A4%A9%E6%A2%AF%E8%B5%9B/" style="font-size: 1.05rem;">天梯赛<sup>1</sup></a><a href="/tags/%E5%AE%9E%E6%88%98/" style="font-size: 1.05rem;">实战<sup>2</sup></a><a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" style="font-size: 1.05rem;">嵌入式<sup>1</sup></a><a href="/tags/%E6%8C%87%E5%8D%97/" style="font-size: 1.05rem;">指南<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.05rem;">数据结构<sup>1</sup></a><a href="/tags/%E6%96%B0%E9%A2%86%E5%9F%9F/" style="font-size: 1.05rem;">新领域<sup>1</sup></a><a href="/tags/%E6%B4%9B%E8%B0%B7/" style="font-size: 1.05rem;">洛谷<sup>3</sup></a><a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 1.05rem;">深度学习<sup>4</sup></a><a href="/tags/%E6%B8%B8%E6%88%8F%E5%B0%8F%E9%A1%B9%E7%9B%AE/" style="font-size: 1.05rem;">游戏小项目<sup>1</sup></a><a href="/tags/%E6%B9%96%E5%8D%97%E5%B7%A5%E4%B8%9A%E5%A4%A7%E5%AD%A6/" style="font-size: 1.05rem;">湖南工业大学<sup>1</sup></a><a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 1.05rem;">笔记<sup>13</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.05rem;">算法<sup>6</sup></a><a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/" style="font-size: 1.05rem;">蓝桥杯<sup>1</sup></a><a href="/tags/%E9%A1%B9%E7%9B%AE%E8%AE%B2%E8%A7%A3/" style="font-size: 1.05rem;">项目讲解<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/04/"><span class="card-archive-list-date">四月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/03/"><span class="card-archive-list-date">三月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/02/"><span class="card-archive-list-date">二月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">10</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">十一月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E7%AC%94%E8%AE%B0/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>笔记</span></a><a class="article-meta__tags" href="/tags/c-c/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>c/c++</span></a><a class="article-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>数据结构</span></a></span></div></div><h1 class="post-title" itemprop="name headline">数据结构学习笔记 其一</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2025-04-05T16:00:00.000Z" title="发表于 2025-04-06 00:00:00">2025-04-06</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2025-04-05T16:00:00.000Z" title="更新于 2025-04-06 00:00:00">2025-04-06</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="数据结构学习笔记 其一"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为长沙"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>长沙</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="/images/202504071512548.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://huhuha.top/2025/04/06/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%B8%80/"><header><a href="/tags/%E7%AC%94%E8%AE%B0/" tabindex="-1" itemprop="url">笔记</a><a href="/tags/c-c/" tabindex="-1" itemprop="url">c/c++</a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" tabindex="-1" itemprop="url">数据结构</a><h1 id="CrawlerTitle" itemprop="name headline">数据结构学习笔记 其一</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">fufhaha</span><time itemprop="dateCreated datePublished" datetime="2025-04-05T16:00:00.000Z" title="发表于 2025-04-06 00:00:00">2025-04-06</time><time itemprop="dateCreated datePublished" datetime="2025-04-05T16:00:00.000Z" title="更新于 2025-04-06 00:00:00">2025-04-06</time></header><h1 id="数据结构作业笔记"><a href="#数据结构作业笔记" class="headerlink" title="数据结构作业笔记"></a>数据结构作业笔记</h1><h2 id="1-基于顺序存储结构的线性表实现"><a href="#1-基于顺序存储结构的线性表实现" class="headerlink" title="1.基于顺序存储结构的线性表实现"></a>1.基于顺序存储结构的线性表实现</h2><h3 id="1-1-思路："><a href="#1-1-思路：" class="headerlink" title="1.1 思路："></a>1.1 思路：</h3><p>因为是顺序存储结构的线性表，就要考虑用数组实现，而平时的数组静态的增删麻烦，我的思路是动态分配一个数组来做。</p>
<h3 id="1-2各部分的功能实现："><a href="#1-2各部分的功能实现：" class="headerlink" title="1.2各部分的功能实现："></a>1.2各部分的功能实现：</h3><p>头文件：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>主体由数组组成的线性表的构成：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> *data;<span class="comment">//用于存储指向数据的指针</span></span><br><span class="line">    <span class="type">int</span> length;<span class="comment">//数组的长度，跟随后面的增删改操作一起增减</span></span><br><span class="line">    <span class="type">bool</span> state;<span class="comment">//用来标记该数组是否被销毁</span></span><br><span class="line">&#125; <span class="built_in">list</span>;</span><br></pre></td></tr></table></figure>

<p>因为要弄99个线性表，所以我选择开100个list指针变量，用来存储每个线性表数组的首地址</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">list</span>*L[<span class="number">100</span>];</span><br></pre></td></tr></table></figure>

<p>初始化表：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InitList</span><span class="params">(<span class="built_in">list</span> *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    L-&gt;data = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>));<span class="comment">//先给每个表（后续主函数的开始给每个表动态分配内存）data指针所指向的地址分配一个int大小的初始空间，后续直接对根据length对内容进行操作</span></span><br><span class="line">    L-&gt;length = <span class="number">0</span>;</span><br><span class="line">    L-&gt;state = <span class="literal">true</span>; <span class="comment">//状态更新为存在</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n线性表创建成功！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>获取表中对应元素的序号：</p>
<p>根据长度，遍历该表找到序号即可(后续的查找，查找前后驱，插入和删除，履历，都是一样的遍历操作)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= L.length; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (j == i - <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                *e = L.data[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<p>存入文件和存出文件：</p>
<p>我这里当时为了能看到文件的内容，所以用fprintf函数进行操作：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//存入操作基本流程：</span></span><br><span class="line">ELIF*a=fopen(<span class="string">&quot;xxx.txt&quot;</span>,w);<span class="comment">//如果找不到就创一个</span></span><br><span class="line"><span class="built_in">fprintf</span>(a,<span class="string">&quot;xxx%d&quot;</span>,x);</span><br><span class="line">fclose(a);</span><br><span class="line"><span class="comment">//读取操作基本流程：</span></span><br><span class="line">ELIF*a=fopen(<span class="string">&quot;xxx.txt&quot;</span>,r);<span class="comment">//如果找不到就创一个</span></span><br><span class="line"><span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> id, len;</span><br><span class="line">            <span class="type">int</span> *new_data2;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">fscanf</span>(a, <span class="string">&quot;Table[%d] %d&quot;</span>, &amp;id, &amp;len) == <span class="number">2</span>)<span class="comment">//这里是我存入的格式Table[表号] 长度 +表内容</span></span><br><span class="line">            &#123;</span><br><span class="line">                new_data2 = (<span class="type">int</span> *)<span class="built_in">malloc</span>(len * <span class="keyword">sizeof</span>(<span class="type">int</span>));<span class="comment">//先分配一个临时的空间用来存新的表</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; ++i)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">fscanf</span>(a, <span class="string">&quot; %d&quot;</span>, &amp;new_data2[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">free</span>(L-&gt;data);<span class="comment">//释放掉要存储表的内存</span></span><br><span class="line">                L-&gt;data = new_data2;</span><br><span class="line">                L-&gt;length = len;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n读取成功！&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">fclose(a);</span><br></pre></td></tr></table></figure>

<h3 id="1-3原码"><a href="#1-3原码" class="headerlink" title="1.3原码"></a>1.3原码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> *w;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> *data;</span><br><span class="line">    <span class="type">int</span> length;</span><br><span class="line">    <span class="type">bool</span> state;</span><br><span class="line">&#125; <span class="built_in">list</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">list</span> *L[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">InitList</span><span class="params">(<span class="built_in">list</span> *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    L-&gt;data = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>)); <span class="comment">// 初始??</span></span><br><span class="line">    L-&gt;length = <span class="number">0</span>;</span><br><span class="line">    L-&gt;state = <span class="literal">true</span>; <span class="comment">// 状态更新为存在</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n线性表创建成功&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyList</span><span class="params">(<span class="built_in">list</span> *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">free</span>(L-&gt;data);</span><br><span class="line">        L-&gt;data = <span class="literal">NULL</span>;</span><br><span class="line">        L-&gt;state = <span class="literal">false</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n线性表销毁成功！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">ClearList</span><span class="params">(<span class="built_in">list</span> *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        L-&gt;length = <span class="number">0</span>;</span><br><span class="line">        L-&gt;data = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n清空线性表&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">ListEmpty</span><span class="params">(<span class="built_in">list</span> L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L.state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;线性表不为空！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;线性表为空&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">ListLength</span><span class="params">(<span class="built_in">list</span> L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;线性表的长度为%d&quot;</span>, L.length); <span class="comment">// 后续添加和删除操作的时候，??++??--??</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">GetElem</span><span class="params">(<span class="built_in">list</span> L, <span class="type">int</span> i, <span class="type">int</span> *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">1</span> || i &gt; L.length + <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ERROR&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt;= L.length; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (j == i - <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                *e = L.data[j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">LocateElem</span><span class="params">(<span class="built_in">list</span> L, <span class="type">int</span> e)</span> <span class="comment">//----------------查找</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= L.length; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (L.data[i] == e)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">PriorElem</span><span class="params">(<span class="built_in">list</span> L, <span class="type">int</span> cur, <span class="type">int</span> *pre)</span> <span class="comment">// 前驱---------------------</span></span><br><span class="line">&#123;</span><br><span class="line">    *pre = <span class="number">-2</span>;</span><br><span class="line">    <span class="keyword">if</span> (L.state == <span class="literal">true</span>)</span><br><span class="line">    &#123; <span class="comment">// 每次前驱这个初始化一??</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; L.length; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (L.data[i] == cur &amp;&amp; i != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                *pre = L.data[i - <span class="number">1</span>];</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/*if (pre == NULL)</span></span><br><span class="line"><span class="comment">         &#123;</span></span><br><span class="line"><span class="comment">             printf(&quot;不存??&quot;);</span></span><br><span class="line"><span class="comment">             return;</span></span><br><span class="line"><span class="comment">         &#125;*/</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先创建一个表&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">NextElem</span><span class="params">(<span class="built_in">list</span> L, <span class="type">int</span> cur, <span class="type">int</span> *next_e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// printf(&quot;111&quot;);</span></span><br><span class="line">    *next_e = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">if</span> (L.state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// printf(&quot;222&quot;);</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; L.length; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// printf(&quot;333&quot;);</span></span><br><span class="line">            <span class="keyword">if</span> (L.data[i] == cur &amp;&amp; i != L.length - <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// printf(&quot;%d&quot;, L.data[0]);</span></span><br><span class="line">                *next_e = L.data[i + <span class="number">1</span>];</span><br><span class="line">                <span class="comment">// printf(&quot;444&quot;);</span></span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先创建一个表&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">ListInsert</span><span class="params">(<span class="built_in">list</span> *L, <span class="type">int</span> i, <span class="type">int</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">1</span> || i &gt; L-&gt;length + <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ERROR\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> new_length = L-&gt;length + <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> *new_data = (<span class="type">int</span> *)<span class="built_in">malloc</span>(new_length * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; i - <span class="number">1</span>; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        new_data[j] = L-&gt;data[j];</span><br><span class="line">    &#125;</span><br><span class="line">    new_data[i - <span class="number">1</span>] = e;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = i - <span class="number">1</span>; j &lt; L-&gt;length; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        new_data[j + <span class="number">1</span>] = L-&gt;data[j];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(L-&gt;data);</span><br><span class="line">    L-&gt;data = new_data;</span><br><span class="line">    L-&gt;length = new_length;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;插入成功&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ListDelete</span><span class="params">(<span class="built_in">list</span> *L, <span class="type">int</span> i, <span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">1</span> || j &gt; L-&gt;length || i &gt; j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ERROR\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> new_length = L-&gt;length - (j - i + <span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> *new_data1 = (<span class="type">int</span> *)<span class="built_in">malloc</span>(new_length * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="type">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> m = <span class="number">0</span>; m &lt; L-&gt;length; ++m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (m &lt; i - <span class="number">1</span> || m &gt; j - <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            new_data1[index++] = L-&gt;data[m];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(L-&gt;data);</span><br><span class="line">    L-&gt;data = new_data1;</span><br><span class="line">    L-&gt;length = new_length;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;删除成功\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ListTraverse</span><span class="params">(<span class="built_in">list</span> L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L.state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; L.length; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, L.data[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n先建表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">fifth</span><span class="params">(<span class="built_in">list</span> *L, <span class="type">int</span> k)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (k == <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; L-&gt;length; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            L-&gt;data[i]++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; L-&gt;length; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            L-&gt;data[i]--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">sixth</span><span class="params">(<span class="built_in">list</span> *L1, <span class="built_in">list</span> *L2)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L2-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">free</span>(L2-&gt;data);</span><br><span class="line">    &#125;</span><br><span class="line">    L2-&gt;data = (<span class="type">int</span> *)<span class="built_in">malloc</span>(L1-&gt;length * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; L1-&gt;length; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        L2-&gt;data[i] = L1-&gt;data[i];</span><br><span class="line">    &#125;</span><br><span class="line">    L2-&gt;length = L1-&gt;length;</span><br><span class="line">    L2-&gt;state = <span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;复制成功\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Write</span><span class="params">(<span class="built_in">list</span> L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L.state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FILE *a = fopen(<span class="string">&quot;存档.txt&quot;</span>, <span class="string">&quot;r+&quot;</span>);</span><br><span class="line">        <span class="type">bool</span> found = <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> id, len;</span><br><span class="line">        <span class="type">long</span> <span class="type">long</span> <span class="type">int</span> pos1, pos2;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">fscanf</span>(a, <span class="string">&quot;Table[%d] %d&quot;</span>, &amp;id, &amp;len) == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (id == *w)</span><br><span class="line">            &#123;</span><br><span class="line">                found = <span class="literal">true</span>;</span><br><span class="line">                pos1 = ftell(a);</span><br><span class="line">                <span class="keyword">while</span> (getchar() != <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">                    ;</span><br><span class="line">                pos2 = ftell(a);</span><br><span class="line">                fseek(a, pos1 - <span class="number">1</span>, SEEK_SET);</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; (pos2 - pos1 + <span class="number">2</span>); ++i)</span><br><span class="line">                &#123;</span><br><span class="line">                    fputc(<span class="string">&#x27; &#x27;</span>, a);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                fseek(a, pos1 - <span class="number">1</span>, SEEK_SET);</span><br><span class="line">                <span class="built_in">fprintf</span>(a, <span class="string">&quot;%d &quot;</span>, L.length);</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; L.length; ++i)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">fprintf</span>(a, <span class="string">&quot;%d &quot;</span>, L.data[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">fprintf</span>(a, <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">                fclose(a);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!found)</span><br><span class="line">        &#123;</span><br><span class="line">            fclose(a);</span><br><span class="line">            a = fopen(<span class="string">&quot;存档.txt&quot;</span>, <span class="string">&quot;a&quot;</span>);</span><br><span class="line">            <span class="built_in">fprintf</span>(a, <span class="string">&quot;Table[%d] %d &quot;</span>, *w, L.length);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; L.length; ++i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">fprintf</span>(a, <span class="string">&quot;%d &quot;</span>, L.data[i]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">fprintf</span>(a, <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            fclose(a);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;写入成功！\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先创建表！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Read</span><span class="params">(<span class="built_in">list</span> *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        FILE *a = fopen(<span class="string">&quot;存档.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> id, len;</span><br><span class="line">            <span class="type">int</span> *new_data2;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">fscanf</span>(a, <span class="string">&quot;Table[%d] %d&quot;</span>, &amp;id, &amp;len) == <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                new_data2 = (<span class="type">int</span> *)<span class="built_in">malloc</span>(len * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; len; ++i)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">fscanf</span>(a, <span class="string">&quot; %d&quot;</span>, &amp;new_data2[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">free</span>(L-&gt;data);</span><br><span class="line">                L-&gt;data = new_data2;</span><br><span class="line">                L-&gt;length = len;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n读取成功&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        fclose(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n先建立该表&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> select = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (select != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n请输入对哪个线性表进行操作(1-99),输入0退出！\n&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;select);</span><br><span class="line">        w = &amp;select;</span><br><span class="line">        <span class="keyword">if</span> (select == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;欢迎下次再使用本系统&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 先给每个表分配下内存0的时候记得free</span></span><br><span class="line">        <span class="keyword">if</span> (L[select] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            L[select] = (<span class="built_in">list</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="built_in">list</span>));</span><br><span class="line">            L[select]-&gt;state = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// InitList(L[select]);</span></span><br><span class="line">        <span class="type">int</span> s1;</span><br><span class="line">        s1 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (s1 != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n  Menu for Linear Table On Sequence Structure\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;----------------------------------------------\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  1.InitList\t8.PriorElem\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  2.DestoryList\t9.NextElem\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  3.ClearList\t10.ListInsert\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  4.ListEmpty\t11.ListDelete改\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  5.ListLength\t12.ListTrabverse\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  6.GetElem\t13.Write\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  7.LocateElem\t14.Read\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  0.Exit\t15.增减全部元素\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  16.复制表\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;----------------------------------------------\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  请选择你要输入的操作[0~14]\n&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;s1);</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                InitList(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                DestroyList(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ClearList(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">4</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ListEmpty(*L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">5</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ListLength(*L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">6</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> i, e;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请输入想要获得元素的位置：\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d&quot;</span>, &amp;i);</span><br><span class="line">                GetElem(*L[select], i, &amp;e);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n第%d的元素为%d!&quot;</span>, i, e); <span class="comment">// 几个房间还是一样的转来转去</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">7</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> i;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请输入需要查找的元素：\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d&quot;</span>, &amp;i);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n第%d个元素与该元素相同\n&quot;</span>, LocateElem(*L[select], i));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">8</span>) <span class="comment">//** */</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> i, pre1;</span><br><span class="line">                <span class="comment">// pre = NULL;</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请输入需要获得前驱的元素：\n&quot;</span>);</span><br><span class="line">                <span class="keyword">while</span> (getchar() != <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">                    ;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;i);</span><br><span class="line">                PriorElem(*L[select], i, &amp;pre1);</span><br><span class="line">                <span class="keyword">if</span> (&amp;pre1 == <span class="literal">NULL</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;不存在前驱&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;\n该元素的前驱_%d\n&quot;</span>, pre1);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">9</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> i, next;</span><br><span class="line">                <span class="comment">// next_e = NULL;</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请输入需要获得其后继的元素：\n&quot;</span>);</span><br><span class="line">                <span class="keyword">while</span> (getchar() != <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">                    ;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;i);</span><br><span class="line">                NextElem(*L[select], i, &amp;next);</span><br><span class="line">                <span class="keyword">if</span> (&amp;next == <span class="literal">NULL</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;不存在后继&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;\n该元素的后继_%d\n&quot;</span>, next);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">10</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请依次输入：在第_个位置之前插入元素_\n&quot;</span>);</span><br><span class="line">                <span class="type">int</span> i, j;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d %d&quot;</span>, &amp;i, &amp;j);</span><br><span class="line">                ListInsert(L[select], i, j);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">11</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请依次输入：删除从_位到第_位的元素\n&quot;</span>);</span><br><span class="line">                <span class="type">int</span> i, j;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d %d&quot;</span>, &amp;i, &amp;j);</span><br><span class="line">                ListDelete(L[select], i, j);</span><br><span class="line">                <span class="comment">// printf(&quot;删除元素为：%d&quot;,dele);</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">12</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n------------all elements-------------\n&quot;</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">                ListTraverse(*L[select]);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n----------------end------------------\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">13</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Write(*L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">14</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Read(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">15</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> m;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;你选择?1-增 2-减\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d&quot;</span>, &amp;m);</span><br><span class="line">                fifth(L[select], m);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">16</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> k;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;把 L[%d] 表复制到 L[_]?\n&quot;</span>, select);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;k);</span><br><span class="line">                <span class="keyword">if</span> (L[k] == <span class="literal">NULL</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    L[k] = (<span class="built_in">list</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="built_in">list</span>));</span><br><span class="line">                    L[k]-&gt;state = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                sixth(L[select], L[k]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    for (int i = 0; i &lt; 100; ++i)</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        DestroyList(L[i]);</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="2-基于链式存储结构的线性表实现"><a href="#2-基于链式存储结构的线性表实现" class="headerlink" title="2.基于链式存储结构的线性表实现"></a>2.基于链式存储结构的线性表实现</h2><h3 id="1-1思路："><a href="#1-1思路：" class="headerlink" title="1.1思路："></a>1.1思路：</h3><p>这里是链式存储结构，所以应该用链表来实现，我的代码用单向链表来实现的，其余的构造和作业1的基本相同</p>
<h3 id="1-2各部分的功能实现：-1"><a href="#1-2各部分的功能实现：-1" class="headerlink" title="1.2各部分的功能实现："></a>1.2各部分的功能实现：</h3><p>头文件：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>主体链式的线性表的构成：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span><span class="comment">//用于指向下一个链节（链式所在）</span></span><br><span class="line">    <span class="type">bool</span> state;</span><br><span class="line">&#125; node;</span><br></pre></td></tr></table></figure>

<p>这里要用100个表，所以还是开一个node类型的指针数组，大小为100，用来存储每个表的头节点的地址：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node*L[<span class="number">100</span>];</span><br></pre></td></tr></table></figure>

<p>这时就要注意了，后续只要函数涉及到链表的构造的变化的，比如增删改操作，参数的数据类型就不能是node*</p>
<p>比如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InitList</span><span class="params">(node **L)</span></span><br><span class="line"><span class="comment">//这里参数的数据类型是node**，即指向指针的指针，因为这里的表本身就是由一个指针存储其头节点来维护的，所以涉及变化的操作要用指向该头节点指针的指针</span></span><br></pre></td></tr></table></figure>

<p>初始化：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InitList</span><span class="params">(node **L)</span></span><br><span class="line">&#123;</span><br><span class="line">    *L = (node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));<span class="comment">//还是动态分配，这时是给头节点分配一个内存，此时一个链表只有首节点是有空间的，但无赋值</span></span><br><span class="line">    (*L)-&gt;state = <span class="literal">true</span>;</span><br><span class="line">    (*L)-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;线性表创建成功！\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如增删改，插入，找前后驱的过程，核心的步骤是开一个临时节点new_node然后与原来节点轮流替换删除：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以删除操作的核心为例</span></span><br><span class="line">node *current = *L;</span><br><span class="line"><span class="keyword">while</span> (current != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">     node *temp = current;</span><br><span class="line">     current = current-&gt;next;</span><br><span class="line">     <span class="built_in">free</span>(temp);</span><br><span class="line">&#125;</span><br><span class="line">*L = <span class="literal">NULL</span>;</span><br><span class="line"><span class="comment">//找前驱：(这里也是要开一个临时的node节点)</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">GetElem</span><span class="params">(node *L, <span class="type">int</span> i, <span class="type">int</span> *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt;= <span class="number">0</span> || i &gt; ListLength(L))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;越界\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        node *current = L-&gt;next;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            current = current-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        *e = current-&gt;data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先初始化表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>清空和判断表是否为空操作都是看首节点的状态</p>
<p>读写操作和作业1相同</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Write</span><span class="params">(node *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FILE *a;</span><br><span class="line">        a = fopen(<span class="string">&quot;链式存档.txt&quot;</span>, <span class="string">&quot;a&quot;</span>);</span><br><span class="line">        <span class="built_in">fprintf</span>(a, <span class="string">&quot; &quot;</span>);</span><br><span class="line">        node *current = L-&gt;next;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">fprintf</span>(a, <span class="string">&quot;%d &quot;</span>, current-&gt;data);</span><br><span class="line">            current = current-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">fprintf</span>(a, <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        fclose(a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;INPUT FILE NAME:链式存档.txt\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先创建表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Read</span><span class="params">(node **L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*L)-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FILE *a;</span><br><span class="line">        a = fopen(<span class="string">&quot;链式存档.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">        <span class="type">int</span> b;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">        ClearList(*L);</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">fscanf</span>(a, <span class="string">&quot; %d&quot;</span>, &amp;b) != EOF)</span><br><span class="line">        &#123;</span><br><span class="line">            ListInsert(*L, i, b);</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(a);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;OUTPUT FILE NAME:链式存档.txt\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3原码-1"><a href="#1-3原码-1" class="headerlink" title="1.3原码"></a>1.3原码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">    <span class="type">bool</span> state;</span><br><span class="line">&#125; node;</span><br><span class="line"><span class="type">int</span> *w;</span><br><span class="line">node *L[<span class="number">100</span>]; <span class="comment">// 存储1-99个链表的头指针</span></span><br><span class="line"><span class="comment">// 指针也是一种变量，它也有对应的地址，链表是靠指针来维护的，要在函数中真正做到更改链表，可以另外搞个指针指向链表的指针的地址，来对其进行操作</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//-&gt;的优先级要大于*</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">InitList</span><span class="params">(node **L)</span></span><br><span class="line">&#123;</span><br><span class="line">    *L = (node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">    (*L)-&gt;state = <span class="literal">true</span>;</span><br><span class="line">    (*L)-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;线性表创建成功！\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyList</span><span class="params">(node **L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*L)-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        node *current = *L;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            node *temp = current;</span><br><span class="line">            current = current-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        *L = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;线性表已销毁\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先建造表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ClearList</span><span class="params">(node *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        L-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;线性表已清空\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先初始化表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">ListEmpty</span><span class="params">(node *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;线性表不为空&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;线性表为空&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">ListLength</span><span class="params">(node *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    node *current = L;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (current != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">GetElem</span><span class="params">(node *L, <span class="type">int</span> i, <span class="type">int</span> *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt;= <span class="number">0</span> || i &gt; ListLength(L))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;越界\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        node *current = L-&gt;next;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            current = current-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        *e = current-&gt;data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先初始化表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">LocateElem</span><span class="params">(node *L, <span class="type">int</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">        node *current;</span><br><span class="line">        <span class="keyword">while</span> (L != <span class="literal">NULL</span>) <span class="comment">// 这里</span></span><br><span class="line">        &#123;</span><br><span class="line">            current = L;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (current-&gt;data == e)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            L = L-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先创建表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">PriorElem</span><span class="params">(node *L, <span class="type">int</span> cur, <span class="type">int</span> *pre_e)</span></span><br><span class="line">&#123;</span><br><span class="line">    node *current;</span><br><span class="line">    <span class="comment">// 这里，L是第一个的判断</span></span><br><span class="line">    <span class="keyword">while</span> (L != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        current = L;</span><br><span class="line">        L = L-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (cur == L-&gt;data)</span><br><span class="line">        &#123;</span><br><span class="line">            *pre_e = current-&gt;data;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">NextElem</span><span class="params">(node *L, <span class="type">int</span> cur, <span class="type">int</span> *next_e)</span></span><br><span class="line">&#123;</span><br><span class="line">    node *current;</span><br><span class="line">    <span class="keyword">while</span> ((L-&gt;next) != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        current = L;</span><br><span class="line">        L = L-&gt;next;</span><br><span class="line">        <span class="keyword">if</span> (cur == current-&gt;data)</span><br><span class="line">        &#123;</span><br><span class="line">            *next_e = L-&gt;data;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;该数没有后驱！\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ListInsert</span><span class="params">(node *L, <span class="type">int</span> i, <span class="type">int</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span> &amp;&amp; i &gt; <span class="number">0</span> &amp;&amp; i &lt;= ListLength(L) + <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        node *newnode = (node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">        newnode-&gt;data = e;</span><br><span class="line">        newnode-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">        node *current = L;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            current = current-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        newnode-&gt;next = current-&gt;next;</span><br><span class="line">        current-&gt;next = newnode;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;插入成功！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先创建表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ListDelete</span><span class="params">(node *L, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> *e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt;= <span class="number">0</span> || j &lt;= <span class="number">0</span> || i &gt; ListLength(L) || j &gt; ListLength(L) || i &gt; j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;删除位置无效！\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        node *prev = L;</span><br><span class="line">        node *current = L-&gt;next;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">NULL</span> &amp;&amp; count &lt;= j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (count &gt;= i)</span><br><span class="line">            &#123;</span><br><span class="line">                *e = current-&gt;data;</span><br><span class="line">                prev-&gt;next = current-&gt;next;</span><br><span class="line">                <span class="built_in">free</span>(current);</span><br><span class="line">                current = prev-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                prev = current;</span><br><span class="line">                current = current-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;删除成功！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先创建表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ListTraverse</span><span class="params">(node *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        node *current;</span><br><span class="line">        current = L-&gt;next;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, current-&gt;data);</span><br><span class="line">            current = current-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Write</span><span class="params">(node *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (L-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FILE *a;</span><br><span class="line">        a = fopen(<span class="string">&quot;链式存档.txt&quot;</span>, <span class="string">&quot;a&quot;</span>);</span><br><span class="line">        <span class="built_in">fprintf</span>(a, <span class="string">&quot; &quot;</span>);</span><br><span class="line">        node *current = L-&gt;next;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">fprintf</span>(a, <span class="string">&quot;%d &quot;</span>, current-&gt;data);</span><br><span class="line">            current = current-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">fprintf</span>(a, <span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        fclose(a);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;INPUT FILE NAME:链式存档.txt\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先创建表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Read</span><span class="params">(node **L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*L)-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        FILE *a;</span><br><span class="line">        a = fopen(<span class="string">&quot;链式存档.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);</span><br><span class="line">        <span class="type">int</span> b;</span><br><span class="line">        <span class="type">int</span> i = <span class="number">1</span>;</span><br><span class="line">        ClearList(*L);</span><br><span class="line">        <span class="keyword">while</span> (<span class="built_in">fscanf</span>(a, <span class="string">&quot; %d&quot;</span>, &amp;b) != EOF)</span><br><span class="line">        &#123;</span><br><span class="line">            ListInsert(*L, i, b);</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        fclose(a);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;OUTPUT FILE NAME:链式存档.txt\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">fifth</span><span class="params">(node **L, <span class="type">int</span> i, <span class="type">int</span> j, <span class="type">int</span> m, <span class="type">int</span> key)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*L)-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (i &lt;= <span class="number">0</span> || j &lt;= <span class="number">0</span> || i &gt; ListLength(*L) || j &gt; ListLength(*L) || i &gt; j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;无效范围！\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        node *current = (*L)-&gt;next;</span><br><span class="line">        <span class="type">int</span> count = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">NULL</span> &amp;&amp; count &lt;= j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (count &gt;= i)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (key == <span class="number">1</span>)</span><br><span class="line">                    current-&gt;data += m;</span><br><span class="line">                <span class="keyword">if</span> (key == <span class="number">0</span>)</span><br><span class="line">                    current-&gt;data -= m;</span><br><span class="line">            &#125;</span><br><span class="line">            current = current-&gt;next;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;更新完成！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先初始化表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">sixteenth</span><span class="params">(node **L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> ((*L)-&gt;state == <span class="literal">true</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> select2;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请输入你要拼接到的目标表1-99：\n&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot; %d&quot;</span>, &amp;select2);</span><br><span class="line">        <span class="keyword">if</span> (select2 &lt; <span class="number">1</span> || select2 &gt; <span class="number">99</span> || L[select2] == <span class="literal">NULL</span> || L[select2]-&gt;state != <span class="literal">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;范围无效\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        node *p1 = *L;</span><br><span class="line">        node *p2 = L[select2];</span><br><span class="line">        <span class="keyword">if</span> (p1-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请先初始化自己这个表\n&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (p2-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            p2-&gt;next = p1-&gt;next;</span><br><span class="line">            p1-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            node *current = p2;</span><br><span class="line">            <span class="keyword">while</span> (current-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                current = current-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            current-&gt;next = p1-&gt;next;</span><br><span class="line">            p1-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请先初始化表\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> select = <span class="number">1</span>;</span><br><span class="line">    InitList(&amp;L[<span class="number">0</span>]);</span><br><span class="line">    <span class="keyword">while</span> (select != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n请输入对哪个线性表进行操作(1-99),输入0退出！\n&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;select);</span><br><span class="line">        w = &amp;select;</span><br><span class="line">        <span class="keyword">if</span> (select == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;欢迎下次再使用本系统！&quot;</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (L[select] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            L[select] = (node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(node));</span><br><span class="line">            InitList(&amp;L[select]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> s1;</span><br><span class="line">        s1 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (s1 != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n  Menu for Linear Table On Sequence Structure\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;----------------------------------------------\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  1.InitList\t8.PriorElem\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  2.DestroyList\t9.NextElem\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  3.ClearList\t10.ListInsert\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  4.ListEmpty\t11.ListDelete(改)\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  5.ListLength\t12.ListTrabverse\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  6.GetElem\t13.Write\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  7.LocateElem\t14.Read\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  0.Exit\t15.指定范围i-j对该范围所有元素增减m\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  16.表与表的拼接\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;----------------------------------------------\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  请选择你要输入的操作[0~14]\n&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;s1);</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                InitList(&amp;L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                DestroyList(&amp;L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ClearList(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">4</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ListEmpty(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">5</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;链表长度为：%d&quot;</span>, ListLength(L[select]));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">6</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> i, e;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请输入想要获得元素的位置：\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d&quot;</span>, &amp;i);</span><br><span class="line">                GetElem(L[select], i, &amp;e);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n第%d的元素为%d!&quot;</span>, i, e);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">7</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> i;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请输入需要查找的元素：\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d&quot;</span>, &amp;i);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n第%d个元素与该元素相同\n&quot;</span>, LocateElem(L[select], i) + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">8</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> i, pre1;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请输入需要获得前驱的元素：\n&quot;</span>);</span><br><span class="line">                <span class="keyword">while</span> (getchar() != <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">                    ;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;i);</span><br><span class="line">                PriorElem(L[select], i, &amp;pre1);</span><br><span class="line">                <span class="keyword">if</span> (&amp;pre1 == <span class="literal">NULL</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;不存在前驱&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;\n该元素的前驱为%d\n&quot;</span>, pre1);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">9</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> i, next;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请输入需要获得其后继的元素：\n&quot;</span>);</span><br><span class="line">                <span class="keyword">while</span> (getchar() != <span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">                    ;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;i);</span><br><span class="line">                NextElem(L[select], i, &amp;next);</span><br><span class="line">                <span class="keyword">if</span> (&amp;next == <span class="literal">NULL</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;不存在后继&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;\n该元素的后继为%d\n&quot;</span>, next);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">10</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请依次输入：在第_个位置之前插入元素_\n&quot;</span>);</span><br><span class="line">                <span class="type">int</span> i, j;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d %d&quot;</span>, &amp;i, &amp;j);</span><br><span class="line">                ListInsert(L[select], i, j);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">11</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请输入要删除的范围_到_:[闭区间]\n&quot;</span>);</span><br><span class="line">                <span class="type">int</span> i, j, dele;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d %d&quot;</span>, &amp;i, &amp;j);</span><br><span class="line">                ListDelete(L[select], i, j, &amp;dele);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">12</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n------------all elements-------------\n&quot;</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">                ListTraverse(L[select]);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n----------------end------------------\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">13</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Write(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">14</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Read(&amp;L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">15</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n请输入要增减元素的范围_到_，以及增减的值_,以及1-增 0-减:\n&quot;</span>);</span><br><span class="line">                <span class="type">int</span> i, j, m, key;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d %d %d %d&quot;</span>, &amp;i, &amp;j, &amp;m, &amp;key);</span><br><span class="line">                fifth(&amp;L[select], i, j, m, key);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">16</span>)</span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                sixteenth(&amp;L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="3-基于二叉链表的二叉树实现"><a href="#3-基于二叉链表的二叉树实现" class="headerlink" title="3.基于二叉链表的二叉树实现"></a>3.基于二叉链表的二叉树实现</h2><h3 id="1-1思路：-1"><a href="#1-1思路：-1" class="headerlink" title="1.1思路："></a>1.1思路：</h3><p>首先，二叉树的前中后序遍历的原理：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//前序：根左右</span></span><br><span class="line"><span class="comment">//中序：左根右</span></span><br><span class="line"><span class="comment">//后序：左右根</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//先给出一个二叉树为例：</span></span><br><span class="line">						A1</span><br><span class="line">                        /    \</span><br><span class="line">                      B2      C3</span><br><span class="line">                     /       /   \</span><br><span class="line">                   D4       E5    F6</span><br><span class="line">                 /   \     /   \</span><br><span class="line">               G7   H8  I9   J10</span><br><span class="line"><span class="comment">//对于这棵树的前序：</span></span><br><span class="line">                                <span class="number">1</span>【<span class="number">2</span>】<span class="number">3</span></span><br><span class="line">                                <span class="number">1</span> <span class="number">2</span>【<span class="number">4</span>】 #<span class="number">3</span></span><br><span class="line">                                <span class="number">12</span> <span class="number">478</span> #【<span class="number">3</span>】</span><br><span class="line">                                <span class="number">12478</span>#<span class="number">356</span></span><br><span class="line">                                <span class="number">12478</span>#<span class="number">359106</span>##</span><br><span class="line">                                ABDG##H###CEI##J##F##<span class="comment">//这里注意最后一层节点的后一层都是空的，都是读到下一层</span></span><br><span class="line">                                <span class="comment">//即每个左右节点都是下一子树的根，由此，递归可补充该部分的空隙，来完成二叉树的序的遍历</span></span><br><span class="line">                                </span><br></pre></td></tr></table></figure>

<h3 id="1-2各部分的功能实现：-2"><a href="#1-2各部分的功能实现：-2" class="headerlink" title="1.2各部分的功能实现："></a>1.2各部分的功能实现：</h3><p>头文件：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>组成二叉树节点的结构：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> data;            <span class="comment">// 节点存储的数值</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">l</span>;</span>      <span class="comment">// 左子树指针</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">r</span>;</span>      <span class="comment">// 右子树指针</span></span><br><span class="line">    <span class="type">char</span> key;            <span class="comment">// 节点标识符（如&#x27;A&#x27;、&#x27;B&#x27;等）</span></span><br><span class="line">&#125; Tree;</span><br></pre></td></tr></table></figure>

<p>创建二叉树：</p>
<p>根据上面的前序原理进行递归创建，这里有#字填充，如果没有#字，则需要<strong>前序+中序</strong>或者<strong>后序+中序</strong>才能创建一个完整的二叉树</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">CreateBiTree</span><span class="params">(Tree **T, <span class="type">char</span> **definition)</span><span class="comment">//Tree **T: 根节点指针的指针,char **definition: 前序序列字符串指针</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (**definition == <span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        *T = <span class="literal">NULL</span>;</span><br><span class="line">        (*definition)++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        *T = (Tree *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Tree));</span><br><span class="line">        (*T)-&gt;key = **definition;</span><br><span class="line">        (*definition)++;</span><br><span class="line">        (*T)-&gt;data = <span class="number">0</span>;</span><br><span class="line">        CreateBiTree(&amp;((*T)-&gt;l), definition);</span><br><span class="line">        CreateBiTree(&amp;((*T)-&gt;r), definition);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>清空二叉树：</p>
<p>只释放左右节点的空间，保留根节点，这样既能通过递归清空，又能保留最后的根结点</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">DestroyBiTree</span><span class="params">(Tree **T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (*T)</span><br><span class="line">    &#123;</span><br><span class="line">        DestroyBiTree(&amp;(*T)-&gt;l);</span><br><span class="line">        DestroyBiTree(&amp;(*T)-&gt;r);</span><br><span class="line">        <span class="built_in">free</span>(*T);</span><br><span class="line">        *T = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;二叉树已销毁！\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ClearBiTree</span><span class="params">(Tree *T)</span> <span class="comment">// 清空和销毁的本质在于根节点是否被删除</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T)</span><br><span class="line">    &#123;</span><br><span class="line">        DestroyBiTree(&amp;T-&gt;l);<span class="comment">//这里是以最初结点的左右节点为递归开始清空的</span></span><br><span class="line">        DestroyBiTree(&amp;T-&gt;r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;二叉树已清空！\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>求二叉树深度：</p>
<p>也是用递归</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">BiTreeDepth</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> dep, ld, rd;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)<span class="comment">//首先边界条件</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        ld = BiTreeDepth(T-&gt;l);<span class="comment">//不断递归，然后最终回溯到第一个</span></span><br><span class="line">        rd = BiTreeDepth(T-&gt;r);</span><br><span class="line">        dep = (ld &gt; rd ? ld : rd) + <span class="number">1</span>;<span class="comment">//比较</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dep;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//注意，这些递归的条件都是当层的和下一层的，而下下层的都是通过递归不断地获得，但是当前和下一层的条件一定要有</span></span><br></pre></td></tr></table></figure>

<p>剩余查找的函数都是递归，比如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Tree *<span class="title function_">LocateNode</span><span class="params">(Tree *T, <span class="type">char</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// printf(&quot;二叉树为空！&quot;);</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Tree *P = T;</span><br><span class="line">        <span class="keyword">if</span> (P-&gt;key == e)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> P;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            P = LocateNode(T-&gt;l, e);</span><br><span class="line">            <span class="keyword">if</span> (P != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> P;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            P = LocateNode(T-&gt;r, e);</span><br><span class="line">            <span class="keyword">return</span> P;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;<span class="comment">//这个返回的是节点</span></span><br></pre></td></tr></table></figure>

<p>下面的找父母节点也是，返回的节点，递归的时候就参数多延伸一层</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Tree *<span class="title function_">parents</span><span class="params">(Tree *T, <span class="type">char</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (T-&gt;l &amp;&amp; T-&gt;l-&gt;key == e)</span><br><span class="line">        <span class="keyword">return</span> T;</span><br><span class="line">    <span class="keyword">if</span> (T-&gt;r &amp;&amp; T-&gt;r-&gt;key == e)</span><br><span class="line">        <span class="keyword">return</span> T;</span><br><span class="line"></span><br><span class="line">    Tree *leftParent = parents(T-&gt;l, e);</span><br><span class="line">    <span class="keyword">if</span> (leftParent != <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> leftParent;</span><br><span class="line">    <span class="keyword">return</span> parents(T-&gt;r, e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>删除函数：</p>
<p>删除操作就要分3种情况讨论了：</p>
<p><strong>每次操作都要用到父母函数，然后修改父母的指针</strong></p>
<p>1.删除无子节点</p>
<p>2.删除单叶子结点：单节点直接替上</p>
<p>3.删除双叶子结点：左节点替上，右节点成为左节点孩子</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">Tree *<span class="title function_">DeleteNode</span><span class="params">(Tree *T, <span class="type">char</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    Tree *p = LocateNode(T, e);</span><br><span class="line">    <span class="keyword">if</span> (!p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;节点 %c 不存在！\n&quot;</span>, e);</span><br><span class="line">        <span class="keyword">return</span> T;</span><br><span class="line">    &#125;</span><br><span class="line">    Tree *parent = parents(T, e);</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;l == <span class="literal">NULL</span> &amp;&amp; p-&gt;r == <span class="literal">NULL</span>)<span class="comment">//删除节点没有子节点情况</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (parent)<span class="comment">//父节点存在</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (parent-&gt;l == p)<span class="comment">//若 p 是父节点的左子节点,若 p 是父节点的左子节点</span></span><br><span class="line">                parent-&gt;l = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                parent-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span><span class="comment">//父节点不存在（p 是根节点）,把子节点更新为根节点</span></span><br><span class="line">        &#123;</span><br><span class="line">            T = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (p-&gt;l == <span class="literal">NULL</span> || p-&gt;r == <span class="literal">NULL</span>)<span class="comment">//删除节点有1个子节点情况</span></span><br><span class="line">    &#123;</span><br><span class="line">        Tree *child = (p-&gt;l) ? p-&gt;l : p-&gt;r;<span class="comment">//判断孩子是左节点还是右节点</span></span><br><span class="line">        <span class="keyword">if</span> (parent)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (parent-&gt;l == p)</span><br><span class="line">                parent-&gt;l = child;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                parent-&gt;r = child;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            T = child;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span><span class="comment">//删除节点有2个子节点的情况</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;l == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Tree *child = p-&gt;r;</span><br><span class="line">            <span class="keyword">if</span> (parent)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (parent-&gt;l == p)</span><br><span class="line">                    parent-&gt;l = child;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    parent-&gt;r = child;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                T = child;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">free</span>(p);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Tree *rightmost = p-&gt;l;<span class="comment">//找到左子树的最右节点 rightmost</span></span><br><span class="line">            <span class="keyword">while</span> (rightmost-&gt;r)<span class="comment">//循环直到右子树为空</span></span><br><span class="line">                rightmost = rightmost-&gt;r;</span><br><span class="line">            rightmost-&gt;r = p-&gt;r;<span class="comment">//p 的右子树成为 rightmost 的右子树</span></span><br><span class="line">            <span class="keyword">if</span> (parent)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (parent-&gt;l == p)</span><br><span class="line">                    parent-&gt;l = p-&gt;l;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    parent-&gt;r = p-&gt;l;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                T = p-&gt;l;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">free</span>(p);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;删除完毕！\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>遍历操作：</p>
<p>前中后序：</p>
<p>主要是递归和输出的不同，导致序的不同：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">OrderTraverse</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">//printf(&quot;%c:%d\n&quot;, T-&gt;key, T-&gt;data);前序</span></span><br><span class="line">    PreOrderTraverse(T-&gt;l);</span><br><span class="line">    <span class="comment">//printf(&quot;%c:%d\n&quot;, T-&gt;key, T-&gt;data);中序</span></span><br><span class="line">    PreOrderTraverse(T-&gt;r);</span><br><span class="line">    <span class="comment">//printf(&quot;%c:%d\n&quot;, T-&gt;key, T-&gt;data);后序</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由这可知，如果没有#占位空格，通过2序我们可以得到整个二叉树</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> post[<span class="number">50</span>];</span><br><span class="line"><span class="type">int</span> in[<span class="number">50</span>];</span><br><span class="line">tepydef <span class="class"><span class="keyword">struct</span> <span class="title">nod</span>&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">nod</span>*<span class="title">lef</span>,<span class="title">rig</span>;</span></span><br><span class="line">	<span class="type">int</span> val;</span><br><span class="line">&#125;nod;</span><br><span class="line">nod *<span class="title function_">build</span><span class="params">(<span class="type">int</span> postl,<span class="type">int</span> postr,<span class="type">int</span> inl,<span class="type">int</span> inr)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(postl&gt;postr) <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">	nod *p=(nod*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(nod));</span><br><span class="line">	p-&gt;val=post[postr];</span><br><span class="line">	<span class="type">int</span> x=post[postr];</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="keyword">for</span>(i=inl;in[i]!=x&amp;&amp;i&lt;=inr;++i);</span><br><span class="line">	p-&gt;lef=build(postl, postl + i - inl - <span class="number">1</span>, inl, i - <span class="number">1</span>);</span><br><span class="line">	p-&gt;rig=build(postl + i - inl, postr - <span class="number">1</span>, i + <span class="number">1</span>, inr);</span><br><span class="line">	<span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line">build(<span class="number">0</span>,n<span class="number">-1</span>,<span class="number">0</span>,n<span class="number">-1</span>);</span><br></pre></td></tr></table></figure>

<p>层序遍历：主要是队列，要用一个队列的结构体</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Tree *node;</span><br><span class="line">    <span class="type">int</span> level;</span><br><span class="line">    <span class="type">int</span> pos;</span><br><span class="line">&#125; QueueItem; </span><br><span class="line"><span class="type">void</span> <span class="title function_">LevelOrderTraverse</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;二叉树不存在\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Tree *q[<span class="number">100</span>];</span><br><span class="line">        Tree *p;</span><br><span class="line">        <span class="type">int</span> front = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> rear = <span class="number">1</span>;</span><br><span class="line">        q[<span class="number">0</span>] = T;</span><br><span class="line">        <span class="keyword">while</span> (front &lt; rear)</span><br><span class="line">        &#123;</span><br><span class="line">            p = q[front];</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>, p-&gt;key, p-&gt;data);</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;l)</span><br><span class="line">                q[rear++] = p-&gt;l;</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;r)</span><br><span class="line">                q[rear++] = p-&gt;r;</span><br><span class="line"></span><br><span class="line">            front++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>写入和读取操作：</p>
<p>这里我是用fwrite二进制的方式进行的</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">TreeWrite</span><span class="params">(Tree *T, FILE *fp)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>) &#123;                     <span class="comment">// 当前节点为空</span></span><br><span class="line">        fputc(<span class="string">&#x27;#&#x27;</span>, fp);                  <span class="comment">// 写入&#x27;#&#x27;标记空节点</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fputc(T-&gt;key, fp);               <span class="comment">// 写入节点的字符标识符（如&#x27;A&#x27;）</span></span><br><span class="line">        fwrite(&amp;T-&gt;data, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp); <span class="comment">// 写入节点的整数值（二进制格式）</span></span><br><span class="line">        TreeWrite(T-&gt;l, fp);             <span class="comment">// 递归写入左子树</span></span><br><span class="line">        TreeWrite(T-&gt;r, fp);             <span class="comment">// 递归写入右子树</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Wirte</span><span class="params">(Tree *T)</span> &#123;</span><br><span class="line">    FILE *fp;</span><br><span class="line">    fp = fopen(<span class="string">&quot;二叉树存档.bin&quot;</span>, <span class="string">&quot;wb&quot;</span>);    <span class="comment">// 以二进制写模式打开文件</span></span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>) &#123; </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;无法打开文件\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeWrite(T, fp);                    <span class="comment">// 调用递归写入函数</span></span><br><span class="line">    fclose(fp);                          <span class="comment">// 关闭文件</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">TreeRead</span><span class="params">(Tree **T, FILE *fp, <span class="type">int</span> *Arch)</span> &#123;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    fread(&amp;c, <span class="keyword">sizeof</span>(<span class="type">char</span>), <span class="number">1</span>, fp);      <span class="comment">// 读取一个字符（节点标识符或&#x27;#&#x27;）</span></span><br><span class="line">    <span class="keyword">if</span> (c == <span class="string">&#x27;#&#x27;</span>) &#123;                      <span class="comment">// 空节点标记</span></span><br><span class="line">        *T = <span class="literal">NULL</span>;                       <span class="comment">// 当前节点指针置空</span></span><br><span class="line">        (*Arch)++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        *T = (Tree *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Tree)); <span class="comment">// 为非空节点分配内存</span></span><br><span class="line">        (*T)-&gt;key = c;                   <span class="comment">// 设置节点标识符</span></span><br><span class="line">        fread(&amp;((*T)-&gt;data), <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp); <span class="comment">// 读取节点的整数值</span></span><br><span class="line">        (*Arch)++;                       <span class="comment">// 计数器递增</span></span><br><span class="line">        TreeRead(&amp;((*T)-&gt;l), fp, Arch);  <span class="comment">// 递归读取左子树</span></span><br><span class="line">        TreeRead(&amp;((*T)-&gt;r), fp, Arch);  <span class="comment">// 递归读取右子树</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Read</span><span class="params">(Tree **T)</span> &#123;</span><br><span class="line">    FILE *fp;</span><br><span class="line">    fp = fopen(<span class="string">&quot;二叉树存档.bin&quot;</span>, <span class="string">&quot;rb&quot;</span>);    <span class="comment">// 以二进制读模式打开文件</span></span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>) &#123;                    <span class="comment">// 文件打开失败处理</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;无法打开文件\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> w = <span class="number">0</span>; </span><br><span class="line">    TreeRead(T, fp, &amp;w);                 <span class="comment">// 调用递归读取函数</span></span><br><span class="line">    fclose(fp);                          <span class="comment">// 关闭文件</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3原码："><a href="#1-3原码：" class="headerlink" title="1.3原码："></a>1.3原码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">l</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">r</span>;</span></span><br><span class="line">    <span class="type">char</span> key;</span><br><span class="line"></span><br><span class="line">&#125; Tree;</span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Tree *node;</span><br><span class="line">    <span class="type">int</span> level;</span><br><span class="line">    <span class="type">int</span> pos;</span><br><span class="line">&#125; QueueItem; <span class="comment">// ABDG##H###CEI##J##F##</span></span><br><span class="line"><span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="type">int</span> *w = <span class="literal">NULL</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">CreateBiTree</span><span class="params">(Tree **T, <span class="type">char</span> **definition)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (**definition == <span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        *T = <span class="literal">NULL</span>;</span><br><span class="line">        (*definition)++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        *T = (Tree *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Tree));</span><br><span class="line">        (*T)-&gt;key = **definition;</span><br><span class="line">        (*definition)++;</span><br><span class="line">        (*T)-&gt;data = <span class="number">0</span>;</span><br><span class="line">        CreateBiTree(&amp;((*T)-&gt;l), definition);</span><br><span class="line">        CreateBiTree(&amp;((*T)-&gt;r), definition);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DestroyBiTree</span><span class="params">(Tree **T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (*T)</span><br><span class="line">    &#123;</span><br><span class="line">        DestroyBiTree(&amp;(*T)-&gt;l);</span><br><span class="line">        DestroyBiTree(&amp;(*T)-&gt;r);</span><br><span class="line">        <span class="built_in">free</span>(*T);</span><br><span class="line">        *T = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;二叉树已销毁！\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ClearBiTree</span><span class="params">(Tree *T)</span> <span class="comment">// 清空和销毁的本质在于根节点是否被删除</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T)</span><br><span class="line">    &#123;</span><br><span class="line">        DestroyBiTree(&amp;T-&gt;l);</span><br><span class="line">        DestroyBiTree(&amp;T-&gt;r);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;二叉树已清空！\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">BiTreeEmpty</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;二叉树不存在！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;二叉树存在&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">BiTreeDepth</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> dep, ld, rd;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        ld = BiTreeDepth(T-&gt;l);</span><br><span class="line">        rd = BiTreeDepth(T-&gt;r);</span><br><span class="line">        dep = (ld &gt; rd ? ld : rd) + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dep;</span><br><span class="line">&#125;</span><br><span class="line">Tree *<span class="title function_">LocateNode</span><span class="params">(Tree *T, <span class="type">char</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// printf(&quot;二叉树为空！&quot;);</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Tree *P = T;</span><br><span class="line">        <span class="keyword">if</span> (P-&gt;key == e)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> P;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            P = LocateNode(T-&gt;l, e);</span><br><span class="line">            <span class="keyword">if</span> (P != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> P;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            P = LocateNode(T-&gt;r, e);</span><br><span class="line">            <span class="keyword">return</span> P;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Assign</span><span class="params">(Tree *T, <span class="type">char</span> e, <span class="type">int</span> value)</span></span><br><span class="line">&#123;</span><br><span class="line">    Tree *P;</span><br><span class="line">    P = LocateNode(T, e);</span><br><span class="line">    P-&gt;data = value;</span><br><span class="line">&#125;</span><br><span class="line">Tree *<span class="title function_">parents</span><span class="params">(Tree *T, <span class="type">char</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (T-&gt;l &amp;&amp; T-&gt;l-&gt;key == e)</span><br><span class="line">        <span class="keyword">return</span> T;</span><br><span class="line">    <span class="keyword">if</span> (T-&gt;r &amp;&amp; T-&gt;r-&gt;key == e)</span><br><span class="line">        <span class="keyword">return</span> T;</span><br><span class="line"></span><br><span class="line">    Tree *leftParent = parents(T-&gt;l, e);</span><br><span class="line">    <span class="keyword">if</span> (leftParent != <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> leftParent;</span><br><span class="line">    <span class="keyword">return</span> parents(T-&gt;r, e);</span><br><span class="line">&#125;</span><br><span class="line">Tree *<span class="title function_">GetSibling</span><span class="params">(Tree *T, <span class="type">char</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    Tree *parent = parents(T, e);</span><br><span class="line">    <span class="keyword">if</span> (parent == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;节点 %c 是根节点，无兄弟！\n&quot;</span>, e);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (parent-&gt;l &amp;&amp; parent-&gt;l-&gt;key == e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> parent-&gt;r; <span class="comment">// 可能是NULL这个</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (parent-&gt;r &amp;&amp; parent-&gt;r-&gt;key == e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> parent-&gt;l;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">InsertNode</span><span class="params">(Tree *T, <span class="type">char</span> e, <span class="type">int</span> LR, Tree *c)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (T-&gt;key == e)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (LR == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            c-&gt;l = T-&gt;l;</span><br><span class="line">            c-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">            T-&gt;l = c;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            c-&gt;r = T-&gt;r;</span><br><span class="line">            c-&gt;l = <span class="literal">NULL</span>;</span><br><span class="line">            T-&gt;r = c;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        InsertNode(T-&gt;l, e, LR, c);</span><br><span class="line">        InsertNode(T-&gt;r, e, LR, c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Tree *<span class="title function_">FindRightmost</span><span class="params">(Tree *node)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span> (node-&gt;r)</span><br><span class="line">        node = node-&gt;r;</span><br><span class="line">    <span class="keyword">return</span> node;</span><br><span class="line">&#125;</span><br><span class="line">Tree *<span class="title function_">DeleteNode</span><span class="params">(Tree *T, <span class="type">char</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    Tree *p = LocateNode(T, e);</span><br><span class="line">    <span class="keyword">if</span> (!p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;节点 %c 不存在！\n&quot;</span>, e);</span><br><span class="line">        <span class="keyword">return</span> T;</span><br><span class="line">    &#125;</span><br><span class="line">    Tree *parent = parents(T, e);</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;l == <span class="literal">NULL</span> &amp;&amp; p-&gt;r == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (parent)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (parent-&gt;l == p)</span><br><span class="line">                parent-&gt;l = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                parent-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            T = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (p-&gt;l == <span class="literal">NULL</span> || p-&gt;r == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Tree *child = (p-&gt;l) ? p-&gt;l : p-&gt;r;</span><br><span class="line">        <span class="keyword">if</span> (parent)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (parent-&gt;l == p)</span><br><span class="line">                parent-&gt;l = child;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                parent-&gt;r = child;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            T = child;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">free</span>(p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (p-&gt;l == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Tree *child = p-&gt;r;</span><br><span class="line">            <span class="keyword">if</span> (parent)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (parent-&gt;l == p)</span><br><span class="line">                    parent-&gt;l = child;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    parent-&gt;r = child;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                T = child;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">free</span>(p);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Tree *rightmost = p-&gt;l;</span><br><span class="line">            <span class="keyword">while</span> (rightmost-&gt;r)</span><br><span class="line">                rightmost = rightmost-&gt;r;</span><br><span class="line">            rightmost-&gt;r = p-&gt;r;</span><br><span class="line">            <span class="keyword">if</span> (parent)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (parent-&gt;l == p)</span><br><span class="line">                    parent-&gt;l = p-&gt;l;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    parent-&gt;r = p-&gt;l;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                T = p-&gt;l;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">free</span>(p);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;删除完毕！\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> T;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Tree *<span class="title function_">fu</span><span class="params">(Tree *T, <span class="type">char</span> e)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> LocateNode(T, e);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">PreOrderTraverse</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>, T-&gt;key, T-&gt;data);</span><br><span class="line">    PreOrderTraverse(T-&gt;l);</span><br><span class="line">    PreOrderTraverse(T-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">InOrderTraverse</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    InOrderTraverse(T-&gt;l);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>, T-&gt;key, T-&gt;data);</span><br><span class="line">    InOrderTraverse(T-&gt;r);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">PostOrderTraverse</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    PostOrderTraverse(T-&gt;l);</span><br><span class="line">    PostOrderTraverse(T-&gt;r);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>, T-&gt;key, T-&gt;data);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">LevelOrderTraverse</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;二叉树不存在\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        Tree *q[<span class="number">100</span>];</span><br><span class="line">        Tree *p;</span><br><span class="line">        <span class="type">int</span> front = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> rear = <span class="number">1</span>;</span><br><span class="line">        q[<span class="number">0</span>] = T;</span><br><span class="line">        <span class="keyword">while</span> (front &lt; rear)</span><br><span class="line">        &#123;</span><br><span class="line">            p = q[front];</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>, p-&gt;key, p-&gt;data);</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;l)</span><br><span class="line">                q[rear++] = p-&gt;l;</span><br><span class="line">            <span class="keyword">if</span> (p-&gt;r)</span><br><span class="line">                q[rear++] = p-&gt;r;</span><br><span class="line"></span><br><span class="line">            front++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">TreeWrite</span><span class="params">(Tree *T, FILE *fp)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        fputc(<span class="string">&#x27;#&#x27;</span>, fp);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        fputc(T-&gt;key, fp);</span><br><span class="line">        fwrite(&amp;T-&gt;data, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">        TreeWrite(T-&gt;l, fp);</span><br><span class="line">        TreeWrite(T-&gt;r, fp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Wirte</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    FILE *fp;</span><br><span class="line">    fp = fopen(<span class="string">&quot;二叉树存档.bin&quot;</span>, <span class="string">&quot;wb&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;无法打开文件\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeWrite(T, fp);</span><br><span class="line">    fclose(fp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">TreeRead</span><span class="params">(Tree **T, FILE *fp, <span class="type">int</span> *Arch)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> c;</span><br><span class="line">    fread(&amp;c, <span class="keyword">sizeof</span>(<span class="type">char</span>), <span class="number">1</span>, fp);</span><br><span class="line">    <span class="keyword">if</span> (c == <span class="string">&#x27;#&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        *T = <span class="literal">NULL</span>;</span><br><span class="line">        (*Arch)++;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        *T = (Tree *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Tree));</span><br><span class="line">        (*T)-&gt;key = c;</span><br><span class="line">        fread(&amp;((*T)-&gt;data), <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">        (*Arch)++;</span><br><span class="line">        TreeRead(&amp;((*T)-&gt;l), fp, Arch);</span><br><span class="line">        TreeRead(&amp;((*T)-&gt;r), fp, Arch);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Read</span><span class="params">(Tree **T)</span></span><br><span class="line">&#123;</span><br><span class="line">    FILE *fp;</span><br><span class="line">    fp = fopen(<span class="string">&quot;二叉树存档.bin&quot;</span>, <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (fp == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;无法打开文件\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> w = <span class="number">0</span>;</span><br><span class="line">    TreeRead(T, fp, &amp;w);</span><br><span class="line">    fclose(fp);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">banlk</span><span class="params">(<span class="type">int</span> x)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; x; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">seventeen</span><span class="params">(Tree *T)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;树为空！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> depth = BiTreeDepth(T);</span><br><span class="line">    <span class="keyword">if</span> (depth == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    <span class="type">int</span> max_width = (<span class="number">1</span> &lt;&lt; depth) - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 分配位置映射数组</span></span><br><span class="line">    Tree ***pos_map = (Tree ***)<span class="built_in">malloc</span>(depth * <span class="keyword">sizeof</span>(Tree **));</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; depth; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        pos_map[i] = (Tree **)<span class="built_in">calloc</span>(max_width, <span class="keyword">sizeof</span>(Tree *));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    QueueItem <span class="built_in">queue</span>[<span class="number">100</span>];</span><br><span class="line">    <span class="type">int</span> front = <span class="number">0</span>, rear = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 根节点居中</span></span><br><span class="line">    <span class="type">int</span> root_pos = (max_width - <span class="number">1</span>) / <span class="number">2</span>;</span><br><span class="line">    <span class="built_in">queue</span>[rear].node = T;</span><br><span class="line">    <span class="built_in">queue</span>[rear].level = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">queue</span>[rear].pos = root_pos;</span><br><span class="line">    rear++;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (front &lt; rear)</span><br><span class="line">    &#123;</span><br><span class="line">        Tree *current = <span class="built_in">queue</span>[front].node;</span><br><span class="line">        <span class="type">int</span> level = <span class="built_in">queue</span>[front].level;</span><br><span class="line">        <span class="type">int</span> pos = <span class="built_in">queue</span>[front].pos;</span><br><span class="line">        front++;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 存储节点指针</span></span><br><span class="line">        <span class="keyword">if</span> (level &lt; depth &amp;&amp; pos &gt;= <span class="number">0</span> &amp;&amp; pos &lt; max_width)</span><br><span class="line">        &#123;</span><br><span class="line">            pos_map[level][pos] = current;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> offset = (max_width + <span class="number">1</span>) &gt;&gt; (level + <span class="number">2</span>);</span><br><span class="line">        <span class="keyword">if</span> (current-&gt;l &amp;&amp; (pos - offset) &gt;= <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">queue</span>[rear].node = current-&gt;l;</span><br><span class="line">            <span class="built_in">queue</span>[rear].level = level + <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">queue</span>[rear].pos = pos - offset;</span><br><span class="line">            rear++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (current-&gt;r &amp;&amp; (pos + offset) &lt; max_width)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">queue</span>[rear].node = current-&gt;r;</span><br><span class="line">            <span class="built_in">queue</span>[rear].level = level + <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">queue</span>[rear].pos = pos + offset;</span><br><span class="line">            rear++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 打印</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> l = <span class="number">0</span>; l &lt; depth; l++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> p = <span class="number">0</span>; p &lt; max_width; p++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (pos_map[l][p] != <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%-1d&quot;</span>, pos_map[l][p]-&gt;data);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; depth; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">free</span>(pos_map[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(pos_map);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">eighteen</span><span class="params">(Tree *T, <span class="type">int</span> dep)</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (T == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (T-&gt;l == <span class="literal">NULL</span> &amp;&amp; T-&gt;r == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> (T-&gt;data) * dep;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> eighteen(T-&gt;l, dep + <span class="number">1</span>) + eighteen(T-&gt;r, dep + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    Tree *L[<span class="number">100</span>] = &#123;<span class="literal">NULL</span>&#125;;</span><br><span class="line">    <span class="comment">// int y = 1;</span></span><br><span class="line">    <span class="type">int</span> select = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (select != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请输入对哪个二叉树进行操作(1-99)，输入0退出\n&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot; %d&quot;</span>, &amp;select);</span><br><span class="line">        <span class="keyword">if</span> (L[select] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            L[select] = (Tree *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Tree));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (select == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="type">int</span> y = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (y != <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n  Menu for Linear Table On Sequence Structure\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;-----------------------------------------------\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;1.CreateBiTree\t9.InsertNode\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;2.DestroyBiTree\t10.DeleteNode\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;3.ClearBiTree\t11.PreOrderTraverse（改）\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;4.BiTreeEmpty\t12.InOrderTraverse\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;5.BiTreeDepth\t13.PostOrderTraverse\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;6.LocateNode\t14.LevelOrderTraverse\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;7.Assign\t15.Write\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;8.GetSibling\t16.Read\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;0.Exit\t17.图显\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;18.计算wpl\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;-----------------------------------------------\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请选择你的操作[0~16]\n&quot;</span>); <span class="comment">// ABCDEF####GHI#J</span></span><br><span class="line"></span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot; %d&quot;</span>, &amp;y);</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入你要创建的二叉树的前序遍历：\n&quot;</span>); <span class="comment">// ABC##DEH##G##F###</span></span><br><span class="line"></span><br><span class="line">                <span class="type">char</span> definition[<span class="number">100</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">                <span class="type">char</span> *p = definition;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %s&quot;</span>, definition);</span><br><span class="line">                L[select]-&gt;r = <span class="literal">NULL</span>;</span><br><span class="line">                L[select]-&gt;key = <span class="number">0</span>;</span><br><span class="line">                CreateBiTree(&amp;L[select], &amp;p);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;二叉树创建成功！\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">2</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                DestroyBiTree(&amp;L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">3</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ClearBiTree(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">4</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                BiTreeEmpty(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">5</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> length = BiTreeDepth(L[select]);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;二叉树的深度为%d\n&quot;</span>, length);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">6</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> e;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入你要查询节点的关键词\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c&quot;</span>, &amp;e);</span><br><span class="line">                Tree *p;</span><br><span class="line">                p = LocateNode(L[select], e);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;该节点为：%c:%d\n&quot;</span>, p-&gt;key, p-&gt;data);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">7</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> e;</span><br><span class="line">                <span class="type">int</span> value;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入你要赋值的节点的关键词与要赋值的值\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c %d&quot;</span>, &amp;e, &amp;value);</span><br><span class="line">                Assign(L[select], e, value);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">8</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> e;</span><br><span class="line">                Tree *p;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入你要查询节点的关键词:\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c&quot;</span>, &amp;e);</span><br><span class="line">                p = GetSibling(L[select], e);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;该节点的兄弟节点为%c:%d\n&quot;</span>, p-&gt;key, p-&gt;data);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">9</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Tree *p;</span><br><span class="line">                p = (Tree *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Tree));</span><br><span class="line">                <span class="type">char</span> e;</span><br><span class="line">                <span class="type">int</span> LR;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入你要插入位置的关键词，左(0)右(1)关系，要插入节点的关键词，数据\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c %d %c %d&quot;</span>, &amp;e, &amp;LR, &amp;p-&gt;key, &amp;p-&gt;data);</span><br><span class="line">                InsertNode(L[select], e, LR, p);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">10</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> e;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入你要删除节点的关键词:\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c&quot;</span>, &amp;e);</span><br><span class="line">                DeleteNode(L[select], e);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">11</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入你要开始前序遍历的节点的关键词：\n&quot;</span>);</span><br><span class="line">                <span class="type">char</span> e;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c&quot;</span>, &amp;e);</span><br><span class="line">                Tree *new_p = fu(L[select], e);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;\n前序遍历：\n&quot;</span>);</span><br><span class="line">                PreOrderTraverse(new_p);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">12</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;中序遍历：\n&quot;</span>);</span><br><span class="line">                InOrderTraverse(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">13</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;后序遍历：\n&quot;</span>);</span><br><span class="line">                PostOrderTraverse(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">14</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;按层遍历：\n&quot;</span>);</span><br><span class="line">                LevelOrderTraverse(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">15</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Wirte(L[select]);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;input flie name: 二叉树存档\n&quot;</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;写入成功！\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">16</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                Read(&amp;L[select]);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;output flie name：二叉树存档\n&quot;</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;读取成功！\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">17</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;显示二叉树：\n&quot;</span>);</span><br><span class="line">                seventeen(L[select]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (y == <span class="number">18</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;该树的WPL是:%d\n&quot;</span>, eighteen(L[select], <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;欢迎下次再使用本系统！&quot;</span>); <span class="comment">// ABC##DEH##G##F###   5310##2##4##76##8#9###</span></span><br><span class="line">    <span class="comment">// ABCD##E##F##GH##I#J###</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="4-基于邻接表的图实现"><a href="#4-基于邻接表的图实现" class="headerlink" title="4.基于邻接表的图实现"></a>4.基于邻接表的图实现</h2><h3 id="1-1思路：-2"><a href="#1-1思路：-2" class="headerlink" title="1.1思路："></a>1.1思路：</h3><p>通过链式结构来存图，然后以顶点为入口，通过访问每个顶点的边链表，从而遍历整个图的边</p>
<h3 id="1-2各部分的功能实现：-3"><a href="#1-2各部分的功能实现：-3" class="headerlink" title="1.2各部分的功能实现："></a>1.2各部分的功能实现：</h3><p>头文件：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br></pre></td></tr></table></figure>

<p>这个作业我用了宏，可读性强一些</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_GRAPH 100</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_VERTEX 100</span></span><br></pre></td></tr></table></figure>

<p>图的结构组成：我是先构造节点，然后再构造图：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> ver;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Node *adj[MAX_VERTEX];<span class="comment">//表示从第i个顶点出发的边的链表</span></span><br><span class="line">    <span class="type">char</span> keys[MAX_VERTEX];<span class="comment">//第i个顶点的名称（字符）</span></span><br><span class="line">    <span class="type">bool</span> exists[MAX_VERTEX];<span class="comment">//标记顶点是否存在</span></span><br><span class="line">    <span class="type">int</span> vnum, arcnum;<span class="comment">//顶点数和边数</span></span><br><span class="line">    <span class="type">int</span> values[MAX_VERTEX];</span><br><span class="line">&#125; Graph;</span><br></pre></td></tr></table></figure>

<p>然后就是创建100个图的操作，看起来只有一个指针，但其实根据结构体的嵌套定义，和前面2个作业的定义差不多</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Graph graphs[MAX_GRAPH];</span><br></pre></td></tr></table></figure>

<p>核心操作就是遍历顶点，然后寻找：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这是定位顶点操作的核心步骤</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (g-&gt;exists[i] &amp;&amp; g-&gt;keys[i] == key)</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>创建图：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">CreateGraph</span><span class="params">(Graph *g, <span class="type">char</span> V[], <span class="type">char</span> VR[][<span class="number">2</span>], <span class="type">int</span> vnum, <span class="type">int</span> arcnum)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">memset</span>(g, <span class="number">0</span>, <span class="keyword">sizeof</span>(Graph));<span class="comment">//初始化图先</span></span><br><span class="line">    g-&gt;vnum = vnum;</span><br><span class="line">    <span class="comment">//初始化顶点数组</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vnum; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        g-&gt;keys[i] = V[i];</span><br><span class="line">        g-&gt;exists[i] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//构建邻接表</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; arcnum; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u = LocateVex(g, VR[i][<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span> v = LocateVex(g, VR[i][<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (u == <span class="number">-1</span> || v == <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">		<span class="comment">//创建新节点并插入邻接表尾部</span></span><br><span class="line">        Node *newnode = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">        newnode-&gt;ver = v;</span><br><span class="line">        newnode-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (g-&gt;adj[u] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            g-&gt;adj[u] = newnode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Node *tail = g-&gt;adj[u];</span><br><span class="line">            <span class="keyword">while</span> (tail-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">                tail = tail-&gt;next;</span><br><span class="line">            tail-&gt;next = newnode;</span><br><span class="line">        &#125;</span><br><span class="line">        g-&gt;arcnum++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>然后销毁图就是一直履历图到底，一个个销毁：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">DestroyGraph</span><span class="params">(Graph *g)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++) &#123;</span><br><span class="line">        <span class="comment">// 释放邻接表节点</span></span><br><span class="line">        Node *p = g-&gt;adj[i];</span><br><span class="line">        <span class="keyword">while</span> (p) &#123;</span><br><span class="line">            Node *tmp = p;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        g-&gt;adj[i] = <span class="literal">NULL</span>;</span><br><span class="line">        g-&gt;exists[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    g-&gt;vnum = <span class="number">0</span>;</span><br><span class="line">    g-&gt;arcnum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>插入新顶点</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">InsertVex</span><span class="params">(Graph *g, <span class="type">char</span> key, <span class="type">char</span> value)</span> &#123;<span class="comment">//*g: 图指针，key: 顶点关键字，value: 顶点存储的值（注意char到int的类型转换）</span></span><br><span class="line">    <span class="keyword">if</span> (LocateVex(g, key) != <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">//寻找第一个空闲位置</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!g-&gt;exists[i]) &#123;</span><br><span class="line">            g-&gt;keys[i] = key;</span><br><span class="line">            g-&gt;values[i] = value; <span class="comment">//注意char到int的类型转换</span></span><br><span class="line">            g-&gt;exists[i] = <span class="literal">true</span>;</span><br><span class="line">            g-&gt;vnum++;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>赋值就调用定位函数，然后赋值</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> idx = LocateVex(g, key);</span><br><span class="line">g-&gt;values[idx] = value;</span><br></pre></td></tr></table></figure>

<p>获取指定邻接顶点的下一个邻接顶点</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">NextAdjVex</span><span class="params">(Graph *g, <span class="type">char</span> key, <span class="type">char</span> adj_key)</span> &#123;</span><br><span class="line">    <span class="type">int</span> u = LocateVex(g, key);</span><br><span class="line">    <span class="type">int</span> v = LocateVex(g, adj_key);</span><br><span class="line">    <span class="keyword">if</span> (u == <span class="number">-1</span> || v == <span class="number">-1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历邻接表寻找下一个节点</span></span><br><span class="line">    Node *p = g-&gt;adj[u];</span><br><span class="line">    <span class="keyword">while</span> (p &amp;&amp; p-&gt;ver != v)</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    <span class="keyword">return</span> (p &amp;&amp; p-&gt;next) ? p-&gt;next-&gt;ver : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>插入新边，我是用头插</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">InsertArc</span><span class="params">(Graph *g, <span class="type">char</span> u, <span class="type">char</span> v)</span> &#123;</span><br><span class="line">    <span class="type">int</span> u_idx = LocateVex(g, u);</span><br><span class="line">    <span class="type">int</span> v_idx = LocateVex(g, v);</span><br><span class="line">    <span class="keyword">if</span> (u_idx == <span class="number">-1</span> || v_idx == <span class="number">-1</span>) <span class="keyword">return</span>;<span class="comment">//越界要返回，越界处理一定不要忘记</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 头插法插入新边</span></span><br><span class="line">    Node *newnode = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    newnode-&gt;ver = v_idx;</span><br><span class="line">    newnode-&gt;next = g-&gt;adj[u_idx];</span><br><span class="line">    g-&gt;adj[u_idx] = newnode;</span><br><span class="line">    g-&gt;arcnum++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>删除边：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">DeleteArc</span><span class="params">(Graph *g, <span class="type">char</span> u, <span class="type">char</span> v)</span> &#123;</span><br><span class="line">    <span class="type">int</span> u_idx = LocateVex(g, u);</span><br><span class="line">    <span class="type">int</span> v_idx = LocateVex(g, v);</span><br><span class="line">    <span class="keyword">if</span> (u_idx == <span class="number">-1</span> || v_idx == <span class="number">-1</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 遍历邻接表删除指定边</span></span><br><span class="line">    Node *prev = <span class="literal">NULL</span>, *current = g-&gt;adj[u_idx];</span><br><span class="line">    <span class="keyword">while</span> (current) &#123;</span><br><span class="line">        <span class="comment">//如果当前节点的目标顶点是 v，说明找到了该边</span></span><br><span class="line">        <span class="keyword">if</span> (current-&gt;ver == v_idx) &#123;</span><br><span class="line">            <span class="comment">//如果 prev 不为空，表示要删除的节点不是链表的第一个节点</span></span><br><span class="line">            <span class="keyword">if</span> (prev) &#123;</span><br><span class="line">                <span class="comment">//删除当前节点，将前一个节点的 next 指向当前节点的下一个节点</span></span><br><span class="line">                prev-&gt;next = current-&gt;next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//如果 prev 为空,表示当前节点是链表的第一个节点,更新顶点 u 的邻接链表头指针</span></span><br><span class="line">                g-&gt;adj[u_idx] = current-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">free</span>(current);</span><br><span class="line">            g-&gt;arcnum--;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        prev = current;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>删除顶点及相关边</p>
<p>DeleteArc只操作一个顶点的邻接链表，删除该顶点到另一顶点的边。</p>
<p>DeleteVex 需要处理当前顶点的出边，还需要遍历所有其他顶点的邻接链表，删除指向当前顶点的入边。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 删除顶点的出边</span></span><br><span class="line">Node *p = g-&gt;adj[idx];</span><br><span class="line"><span class="keyword">while</span> (p) &#123;</span><br><span class="line">    Node *tmp = p;</span><br><span class="line">    p = p-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(tmp);</span><br><span class="line">    g-&gt;arcnum--;</span><br><span class="line">&#125;</span><br><span class="line">g-&gt;adj[idx] = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除其他顶点的入边</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!g-&gt;exists[i]) <span class="keyword">continue</span>;</span><br><span class="line">    Node *prev = <span class="literal">NULL</span>, *curr = g-&gt;adj[i];</span><br><span class="line">    <span class="keyword">while</span> (curr) &#123;</span><br><span class="line">        <span class="keyword">if</span> (curr-&gt;ver == idx) &#123;</span><br><span class="line">            <span class="keyword">if</span> (prev) &#123;</span><br><span class="line">                prev-&gt;next = curr-&gt;next;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                g-&gt;adj[i] = curr-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">            Node *tmp = curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(tmp);</span><br><span class="line">            g-&gt;arcnum--;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            prev = curr;</span><br><span class="line">            curr = curr-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>dfs的不断递归遍历：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">DFS</span><span class="params">(Graph *g, <span class="type">int</span> v, <span class="type">bool</span> visited[])</span> &#123;</span><br><span class="line">    visited[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c   %d\n&quot;</span>, g-&gt;keys[v], g-&gt;values[v]);</span><br><span class="line">    Node *p = g-&gt;adj[v];</span><br><span class="line">    <span class="keyword">while</span> (p) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[p-&gt;ver])</span><br><span class="line">            DFS(g, p-&gt;ver, visited);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>基于队列的bfs遍历：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">BFSTraverse</span><span class="params">(Graph *g)</span> &#123;</span><br><span class="line">    <span class="type">bool</span> visited[MAX_VERTEX] = &#123;<span class="literal">false</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (g-&gt;exists[i] &amp;&amp; !visited[i]) &#123;</span><br><span class="line">            <span class="comment">// 使用队列实现BFS</span></span><br><span class="line">            <span class="type">int</span> <span class="built_in">queue</span>[MAX_VERTEX];</span><br><span class="line">            <span class="type">int</span> front = <span class="number">0</span>, rear = <span class="number">0</span>;</span><br><span class="line">            visited[i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c  %d\n&quot;</span>, g-&gt;keys[i], g-&gt;values[i]);</span><br><span class="line">            <span class="built_in">queue</span>[rear++] = i;</span><br><span class="line">            <span class="keyword">while</span> (front != rear) &#123;</span><br><span class="line">                <span class="type">int</span> v = <span class="built_in">queue</span>[front++];</span><br><span class="line">                Node *p = g-&gt;adj[v];</span><br><span class="line">                <span class="keyword">while</span> (p) &#123;</span><br><span class="line">                    <span class="type">int</span> u = p-&gt;ver;</span><br><span class="line">                    <span class="keyword">if</span> (!visited[u]) &#123;</span><br><span class="line">                        visited[u] = <span class="literal">true</span>;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">&quot;%c  %d\n&quot;</span>, g-&gt;keys[u], g-&gt;values[u]);</span><br><span class="line">                        <span class="built_in">queue</span>[rear++] = u;</span><br><span class="line">                    &#125;</span><br><span class="line">                    p = p-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>写入操作，这里还是用fwrite二进制存入的方法</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Write</span><span class="params">(Graph *g, <span class="type">const</span> <span class="type">char</span> *filename)</span> &#123;</span><br><span class="line">    <span class="comment">// 打开文件，二进制写入模式</span></span><br><span class="line">    FILE *fp = fopen(filename, <span class="string">&quot;wb&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!fp) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;无法写入！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 写入顶点数和边数</span></span><br><span class="line">    fwrite(&amp;g-&gt;vnum, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//写入顶点数</span></span><br><span class="line">    fwrite(&amp;g-&gt;arcnum, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//写入边数</span></span><br><span class="line">    <span class="comment">//写入顶点数据</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (g-&gt;exists[i]) &#123;  <span class="comment">//如果顶点存在</span></span><br><span class="line">            fwrite(&amp;i, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//写入顶点索引</span></span><br><span class="line">            fwrite(&amp;g-&gt;keys[i], <span class="keyword">sizeof</span>(<span class="type">char</span>), <span class="number">1</span>, fp);  <span class="comment">//写入顶点关键字</span></span><br><span class="line">            fwrite(&amp;g-&gt;values[i], <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//写入顶点值</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> end_mark = <span class="number">-1</span>;  <span class="comment">//这里定义一个结束标记</span></span><br><span class="line">    fwrite(&amp;end_mark, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//写入结束标记</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!g-&gt;exists[i]) <span class="keyword">continue</span>;  <span class="comment">//如果顶点不存在则跳过</span></span><br><span class="line">        Node *p = g-&gt;adj[i];</span><br><span class="line">        <span class="keyword">while</span> (p) &#123;  <span class="comment">//遍历当前顶点的邻接链表</span></span><br><span class="line">            <span class="type">int</span> u = i;  <span class="comment">//当前顶点</span></span><br><span class="line">            <span class="type">int</span> v = p-&gt;ver;  <span class="comment">//邻接顶点</span></span><br><span class="line">            fwrite(&amp;u, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//写入边的起始顶点</span></span><br><span class="line">            fwrite(&amp;v, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//写入边的终止顶点</span></span><br><span class="line">            p = p-&gt;next;  <span class="comment">//移动到下一个邻接点</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fwrite(&amp;end_mark, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//写入结束标记</span></span><br><span class="line">    fclose(fp);  <span class="comment">//关闭文件</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>读取操作：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Read</span><span class="params">(Graph *g, <span class="type">const</span> <span class="type">char</span> *filename)</span> &#123;</span><br><span class="line">    <span class="comment">//打开文件，二进制读取模式</span></span><br><span class="line">    FILE *fp = fopen(filename, <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!fp) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;无法读取!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    DestroyGraph(g);  <span class="comment">//清空图</span></span><br><span class="line">    <span class="comment">//读取顶点数和边数</span></span><br><span class="line">    fread(&amp;g-&gt;vnum, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//读取顶点数</span></span><br><span class="line">    fread(&amp;g-&gt;arcnum, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//读取边数</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//读取顶点数据</span></span><br><span class="line">    <span class="type">int</span> pos;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        fread(&amp;pos, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//,读取顶点索引</span></span><br><span class="line">        <span class="keyword">if</span> (pos == <span class="number">-1</span>) <span class="keyword">break</span>;  <span class="comment">//遇到结束标记-1，则结束读取</span></span><br><span class="line">        fread(&amp;g-&gt;keys[pos], <span class="keyword">sizeof</span>(<span class="type">char</span>), <span class="number">1</span>, fp);  <span class="comment">//读取顶点关键字</span></span><br><span class="line">        fread(&amp;g-&gt;values[pos], <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//读取顶点值</span></span><br><span class="line">        g-&gt;exists[pos] = <span class="literal">true</span>;  <span class="comment">//标记该顶点存在</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//读取边数据并重建邻接表</span></span><br><span class="line">    <span class="type">int</span> u, v;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>) &#123;</span><br><span class="line">        fread(&amp;u, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//,读取边的起始顶点</span></span><br><span class="line">        <span class="keyword">if</span> (u == <span class="number">-1</span>) <span class="keyword">break</span>;  <span class="comment">//遇到结束标记-1，则结束读取</span></span><br><span class="line">        fread(&amp;v, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);  <span class="comment">//读取边的终止顶点</span></span><br><span class="line">        Node *newnode = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">        newnode-&gt;ver = v;  <span class="comment">//设置边的终止顶点</span></span><br><span class="line">        newnode-&gt;next = <span class="literal">NULL</span>;  <span class="comment">//这个边是链表中的最后一个节点</span></span><br><span class="line">        <span class="comment">//这里是用尾插法重建邻接表</span></span><br><span class="line">        <span class="keyword">if</span> (g-&gt;adj[u] == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            g-&gt;adj[u] = newnode;  <span class="comment">//如果该顶点没有邻接表，直接插入</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            Node *tail = g-&gt;adj[u];</span><br><span class="line">            <span class="keyword">while</span> (tail-&gt;next)  <span class="comment">//遍历到邻接链表的尾部</span></span><br><span class="line">                tail = tail-&gt;next;</span><br><span class="line">            tail-&gt;next = newnode;  <span class="comment">//将新节点插入到链表的末尾</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    fclose(fp);  <span class="comment">//关闭文件</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3原码-2"><a href="#1-3原码-2" class="headerlink" title="1.3原码"></a>1.3原码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_GRAPH 100</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MAX_VERTEX 100</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> ver;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; Node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    Node *adj[MAX_VERTEX];</span><br><span class="line">    <span class="type">char</span> keys[MAX_VERTEX];</span><br><span class="line">    <span class="type">bool</span> exists[MAX_VERTEX];</span><br><span class="line">    <span class="type">int</span> vnum, arcnum;</span><br><span class="line">    <span class="type">int</span> values[MAX_VERTEX];</span><br><span class="line">&#125; Graph;</span><br><span class="line"></span><br><span class="line">Graph graphs[MAX_GRAPH];</span><br><span class="line"><span class="comment">// int current_graph = 0;</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">LocateVex</span><span class="params">(Graph *g, <span class="type">char</span> key)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (g-&gt;exists[i] &amp;&amp; g-&gt;keys[i] == key)</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">CreateGraph</span><span class="params">(Graph *g, <span class="type">char</span> V[], <span class="type">char</span> VR[][<span class="number">2</span>], <span class="type">int</span> vnum, <span class="type">int</span> arcnum)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">memset</span>(g, <span class="number">0</span>, <span class="keyword">sizeof</span>(Graph));</span><br><span class="line">    g-&gt;vnum = vnum;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vnum; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        g-&gt;keys[i] = V[i];</span><br><span class="line">        g-&gt;exists[i] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; arcnum; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> u = LocateVex(g, VR[i][<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span> v = LocateVex(g, VR[i][<span class="number">1</span>]);</span><br><span class="line">        <span class="keyword">if</span> (u == <span class="number">-1</span> || v == <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        Node *newnode = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">        newnode-&gt;ver = v;</span><br><span class="line">        newnode-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (g-&gt;adj[u] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            g-&gt;adj[u] = newnode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Node *tail = g-&gt;adj[u];</span><br><span class="line">            <span class="keyword">while</span> (tail-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">                tail = tail-&gt;next;</span><br><span class="line">            tail-&gt;next = newnode;</span><br><span class="line">        &#125;</span><br><span class="line">        g-&gt;arcnum++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">DestroyGraph</span><span class="params">(Graph *g)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        Node *p = g-&gt;adj[i];</span><br><span class="line">        <span class="keyword">while</span> (p)</span><br><span class="line">        &#123;</span><br><span class="line">            Node *tmp = p;</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(tmp);</span><br><span class="line">        &#125;</span><br><span class="line">        g-&gt;adj[i] = <span class="literal">NULL</span>;</span><br><span class="line">        g-&gt;exists[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    g-&gt;vnum = <span class="number">0</span>;</span><br><span class="line">    g-&gt;arcnum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">InsertVex</span><span class="params">(Graph *g, <span class="type">char</span> key, <span class="type">char</span> value)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (LocateVex(g, key) != <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!g-&gt;exists[i])</span><br><span class="line">        &#123;</span><br><span class="line">            g-&gt;keys[i] = key;</span><br><span class="line">            g-&gt;exists[i] = <span class="literal">true</span>;</span><br><span class="line">            g-&gt;vnum++;</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">PutVex</span><span class="params">(Graph *g, <span class="type">char</span> key, <span class="type">int</span> value)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> idx = LocateVex(g, key);</span><br><span class="line">    <span class="keyword">if</span> (idx != <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        g-&gt;values[idx] = value;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;赋值成功！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;赋值失败！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">FirstAdjVex</span><span class="params">(Graph *g, <span class="type">char</span> key)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> u = LocateVex(g, key);</span><br><span class="line">    <span class="keyword">if</span> (u == <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Node *p = g-&gt;adj[u];</span><br><span class="line">    <span class="keyword">if</span> (p)</span><br><span class="line">        <span class="keyword">return</span> LocateVex(g, g-&gt;keys[p-&gt;ver]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">NextAdjVex</span><span class="params">(Graph *g, <span class="type">char</span> key, <span class="type">char</span> adj_key)</span><span class="comment">//---</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> u = LocateVex(g, key);</span><br><span class="line">    <span class="type">int</span> v = LocateVex(g, adj_key);</span><br><span class="line">    <span class="keyword">if</span> (u == <span class="number">-1</span> || v == <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Node *p = g-&gt;adj[u];</span><br><span class="line">    <span class="keyword">while</span> (p &amp;&amp; p-&gt;ver != v)</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> (p &amp;&amp; p-&gt;next)</span><br><span class="line">        <span class="keyword">return</span> LocateVex(g, g-&gt;keys[p-&gt;next-&gt;ver]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">InsertArc</span><span class="params">(Graph *g, <span class="type">char</span> u, <span class="type">char</span> v)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> u_idx = LocateVex(g, u);</span><br><span class="line">    <span class="type">int</span> v_idx = LocateVex(g, v);</span><br><span class="line">    <span class="keyword">if</span> (u_idx == <span class="number">-1</span> || v_idx == <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Node *newnode = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">    newnode-&gt;next = g-&gt;adj[u_idx];</span><br><span class="line">    newnode-&gt;ver = v_idx; <span class="comment">//</span></span><br><span class="line"></span><br><span class="line">    g-&gt;adj[u_idx] = newnode;</span><br><span class="line">    g-&gt;arcnum++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DeleteArc</span><span class="params">(Graph *g, <span class="type">char</span> u, <span class="type">char</span> v)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> u_idx = LocateVex(g, u);</span><br><span class="line">    <span class="type">int</span> v_idx = LocateVex(g, v);</span><br><span class="line">    <span class="keyword">if</span> (u_idx == <span class="number">-1</span> || v_idx == <span class="number">-1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Node *prev = <span class="literal">NULL</span>, *current = g-&gt;adj[u_idx];</span><br><span class="line">    <span class="keyword">while</span> (current)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (current-&gt;ver == v_idx)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (prev)</span><br><span class="line">                prev-&gt;next = current-&gt;next;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                g-&gt;adj[u_idx] = current-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(current);</span><br><span class="line">            g-&gt;arcnum--;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        prev = current;</span><br><span class="line">        current = current-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">DeleteVex</span><span class="params">(Graph *g, <span class="type">char</span> key)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> idx = LocateVex(g, key);</span><br><span class="line">    <span class="keyword">if</span> (idx == <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    Node *p = g-&gt;adj[idx];</span><br><span class="line">    <span class="keyword">while</span> (p)</span><br><span class="line">    &#123;</span><br><span class="line">        Node *tmp = p;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(tmp);</span><br><span class="line">        g-&gt;arcnum--;</span><br><span class="line">    &#125;</span><br><span class="line">    g-&gt;adj[idx] = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!g-&gt;exists[i])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        Node *prev = <span class="literal">NULL</span>, *curr = g-&gt;adj[i];</span><br><span class="line">        <span class="keyword">while</span> (curr)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (curr-&gt;ver == idx)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (prev)</span><br><span class="line">                    prev-&gt;next = curr-&gt;next;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    g-&gt;adj[i] = curr-&gt;next;</span><br><span class="line">                Node *tmp = curr;</span><br><span class="line">                curr = curr-&gt;next;</span><br><span class="line">                <span class="built_in">free</span>(tmp);</span><br><span class="line">                g-&gt;arcnum--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                prev = curr;</span><br><span class="line">                curr = curr-&gt;next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    g-&gt;exists[idx] = <span class="literal">false</span>;</span><br><span class="line">    g-&gt;vnum--;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DFS</span><span class="params">(Graph *g, <span class="type">int</span> v, <span class="type">bool</span> visited[])</span></span><br><span class="line">&#123;</span><br><span class="line">    visited[v] = <span class="literal">true</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%c   %d\n&quot;</span>, g-&gt;keys[v], g-&gt;values[v]);</span><br><span class="line">    Node *p = g-&gt;adj[v];</span><br><span class="line">    <span class="keyword">while</span> (p)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited[p-&gt;ver])</span><br><span class="line">            DFS(g, p-&gt;ver, visited);</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">DFSTraverse</span><span class="params">(Graph *g)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">bool</span> visited[MAX_VERTEX] = &#123;<span class="literal">false</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (g-&gt;exists[i] &amp;&amp; !visited[i])</span><br><span class="line">            DFS(g, i, visited);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">BFSTraverse</span><span class="params">(Graph *g)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">bool</span> visited[MAX_VERTEX] = &#123;<span class="literal">false</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (g-&gt;exists[i] &amp;&amp; !visited[i])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> <span class="built_in">queue</span>[MAX_VERTEX];</span><br><span class="line">            <span class="type">int</span> front = <span class="number">0</span>, rear = <span class="number">0</span>;</span><br><span class="line">            visited[i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%c  %d\n&quot;</span>, g-&gt;keys[i], g-&gt;values[i]);</span><br><span class="line">            <span class="built_in">queue</span>[rear++] = i;</span><br><span class="line">            <span class="keyword">while</span> (front != rear)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> v = <span class="built_in">queue</span>[front++];</span><br><span class="line">                Node *p = g-&gt;adj[v];</span><br><span class="line">                <span class="keyword">while</span> (p)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="type">int</span> u = p-&gt;ver;</span><br><span class="line">                    <span class="keyword">if</span> (!visited[u])</span><br><span class="line">                    &#123;</span><br><span class="line">                        visited[u] = <span class="literal">true</span>;</span><br><span class="line">                        <span class="built_in">printf</span>(<span class="string">&quot;%c  %d\n&quot;</span>, g-&gt;keys[u], g-&gt;values[u]);</span><br><span class="line">                        <span class="built_in">queue</span>[rear++] = u;</span><br><span class="line">                    &#125;</span><br><span class="line">                    p = p-&gt;next;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Write</span><span class="params">(Graph *g, <span class="type">const</span> <span class="type">char</span> *filename)</span></span><br><span class="line">&#123;</span><br><span class="line">    FILE *fp;</span><br><span class="line">    fp = fopen(filename, <span class="string">&quot;wb&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!fp)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;无法写入！\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fwrite(&amp;g-&gt;vnum, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);<span class="comment">//二进制存</span></span><br><span class="line">    fwrite(&amp;g-&gt;arcnum, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (g-&gt;exists[i])</span><br><span class="line">        &#123;</span><br><span class="line">            fwrite(&amp;i, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">            fwrite(&amp;g-&gt;keys[i], <span class="keyword">sizeof</span>(<span class="type">char</span>), <span class="number">1</span>, fp);</span><br><span class="line">            fwrite(&amp;g-&gt;values[i], <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">-1</span>;</span><br><span class="line">    fwrite(&amp;a, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MAX_VERTEX; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!g-&gt;exists[i])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">        Node *p = g-&gt;adj[i];</span><br><span class="line">        <span class="keyword">while</span> (p)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">int</span> u = i;</span><br><span class="line">            <span class="type">int</span> v = p-&gt;ver;</span><br><span class="line">            fwrite(&amp;u, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">            fwrite(&amp;v, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    a = <span class="number">-1</span>;</span><br><span class="line">    fwrite(&amp;a, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line"></span><br><span class="line">    fclose(fp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Read</span><span class="params">(Graph *g, <span class="type">const</span> <span class="type">char</span> *filename)</span></span><br><span class="line">&#123;</span><br><span class="line">    FILE *fp;</span><br><span class="line">    fp = fopen(filename, <span class="string">&quot;rb&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!fp)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;无法读取!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    DestroyGraph(g);</span><br><span class="line">    fread(&amp;g-&gt;vnum, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">    fread(&amp;g-&gt;arcnum, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> pos;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        fread(&amp;pos, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">        <span class="keyword">if</span> (pos == <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        fread(&amp;g-&gt;keys[pos], <span class="keyword">sizeof</span>(<span class="type">char</span>), <span class="number">1</span>, fp);</span><br><span class="line">        fread(&amp;g-&gt;values[pos], <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">        g-&gt;exists[pos] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> u, v;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        fread(&amp;u, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">        <span class="keyword">if</span> (u == <span class="number">-1</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        fread(&amp;v, <span class="keyword">sizeof</span>(<span class="type">int</span>), <span class="number">1</span>, fp);</span><br><span class="line">        Node *newnode = (Node *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">        newnode-&gt;ver = v;</span><br><span class="line">        newnode-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="keyword">if</span> (g-&gt;adj[u] == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            g-&gt;adj[u] = newnode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            Node *tail = g-&gt;adj[u];</span><br><span class="line">            <span class="keyword">while</span> (tail-&gt;next)</span><br><span class="line">                tail = tail-&gt;next;</span><br><span class="line">            tail-&gt;next = newnode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    fclose(fp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> select = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n请输入对哪个图进行操作(1-99),输入0退出！\n&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot; %d&quot;</span>, &amp;select);</span><br><span class="line">        Graph *G = &amp;graphs[select];</span><br><span class="line">        <span class="keyword">if</span> (select == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> s1;</span><br><span class="line">        s1 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n  Menu for Linear Table On Sequence Structure\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;----------------------------------------------\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  1.CreatGraph\t8.DeleteVex\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  2.DestroyGraph 9.InsertArc\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  3.LocateVex\t10.DeleteArc\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  4.PutVex\t11.DFSTraverse\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  5.FirstAdjVex\t12.BFSTraverse\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  6.NextAdjVex\t13.Write\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  7.InsertVex\t14.Read\t\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  0.Exit\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;----------------------------------------------\n&quot;</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;  请选择你要输入的操作[0~14]\n&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;s1);</span><br><span class="line">            <span class="keyword">if</span> (s1 == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">switch</span> (s1)</span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> vnum, arcnum;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入图的顶点数和弧数: \n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %d %d&quot;</span>, &amp;vnum, &amp;arcnum);</span><br><span class="line">                <span class="type">char</span> vertices[MAX_VERTEX];</span><br><span class="line">                <span class="type">char</span> arcs[MAX_VERTEX][<span class="number">2</span>];</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入%d个顶点:\n&quot;</span>, vnum);</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; vnum; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">scanf</span>(<span class="string">&quot; %c&quot;</span>, &amp;vertices[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入%d个弧：\n&quot;</span>, arcnum);</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; arcnum; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">scanf</span>(<span class="string">&quot; %c %c&quot;</span>, &amp;arcs[i][<span class="number">0</span>], &amp;arcs[i][<span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">                CreateGraph(G, vertices, arcs, vnum, arcnum);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;图创建成功！\n&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                DestroyGraph(G);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;图已销毁！\n&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> key;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入需要查找的顶点关键字: &quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c&quot;</span>, &amp;key);</span><br><span class="line">                <span class="type">int</span> pos = LocateVex(G, key);</span><br><span class="line">                <span class="keyword">if</span> (pos != <span class="number">-1</span>)</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;该顶点的位序是: %d\n&quot;</span>, pos);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> key;</span><br><span class="line">                <span class="type">int</span> value;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入需要赋值顶点的关键字和所赋的值:\n &quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c %d&quot;</span>, &amp;key, &amp;value);</span><br><span class="line">                PutVex(G, key, value);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> key;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入需要获取第一邻接点的顶点的关键字:\n &quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c&quot;</span>, &amp;key);</span><br><span class="line">                <span class="type">char</span> adj = FirstAdjVex(G, key);</span><br><span class="line">                <span class="keyword">if</span> (adj != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;该顶点的第一邻接顶点的位序为: %d\n&quot;</span>, adj);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;该顶点不存在邻接顶点\n&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> key, adj_key;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入需要获得下一邻接点的 顶点 的关键字及邻接点位序：\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c %c&quot;</span>, &amp;key, &amp;adj_key);</span><br><span class="line">                <span class="type">char</span> next_adj = NextAdjVex(G, key, adj_key);</span><br><span class="line">                <span class="keyword">if</span> (next_adj != <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;下一邻接顶点的位序为: %d\n&quot;</span>, next_adj);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;顶点没有下一邻接顶点\n&quot;</span>, key);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> key, value;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入需要插入顶点的关键字和所赋值: \n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c %c&quot;</span>, &amp;key, &amp;value);</span><br><span class="line">                <span class="type">int</span> pos = InsertVex(G, key, value);</span><br><span class="line">                <span class="keyword">if</span> (pos != <span class="number">-1</span>)</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;插入成功！\n&quot;</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;顶点已存在，插入失败！\n&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> key;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入要删除的顶点的关键字:\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c&quot;</span>, &amp;key);</span><br><span class="line">                <span class="keyword">if</span> (DeleteVex(G, key))</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;删除成功！\n&quot;</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;删除失败！\n&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> u, v;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入需要插入弧的顶点的关键字：\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c %c&quot;</span>, &amp;u, &amp;v);</span><br><span class="line">                InsertArc(G, u, v);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;插入成功!\n&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> u, v;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入需要删除弧的顶点的关键字：\n&quot;</span>);</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot; %c %c&quot;</span>, &amp;u, &amp;v);</span><br><span class="line">                DeleteArc(G, u, v);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;删除成功！\n&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;请输入遍历第一个顶点的关键字:\n&quot;</span>);</span><br><span class="line">                DFSTraverse(G);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">12</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;BFS遍历结果：&quot;</span>);</span><br><span class="line">                BFSTraverse(G);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">13</span>:</span><br><span class="line">            &#123;</span><br><span class="line"></span><br><span class="line">                Write(G, <span class="string">&quot;邻接表存档.txt&quot;</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;INPUT FILE NAME:邻接表存档.txt\n &quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">14</span>:</span><br><span class="line">            &#123;</span><br><span class="line">                Read(G, <span class="string">&quot;邻接表存档.txt&quot;</span>);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;OUTPUT FILE NAME:邻接表存档.txt &quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;欢迎下次再使用本系统！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif" title="头像" alt="头像"></a><div class="post-copyright__author_name">fufhaha</div><div class="post-copyright__author_desc">存储知识</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://huhuha.top/2025/04/06/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%B8%80/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://huhuha.top/2025/04/06/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%B8%80/')">数据结构学习笔记 其一</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://huhuha.top/2025/04/06/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%B8%80/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=数据结构学习笔记 其一&amp;url=https://huhuha.top/2025/04/06/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%B8%80/&amp;pic=/images/202504071512548.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://huhuha.top" target="_blank">仓库</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E7%AC%94%E8%AE%B0/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>笔记<span class="tagsPageCount">13</span></a><a class="post-meta__box__tags" href="/tags/c-c/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>c/c++<span class="tagsPageCount">11</span></a><a class="post-meta__box__tags" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>数据结构<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="/images/202504071512575.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/03/16/%E7%99%BE%E9%A2%98%E6%8B%BE%E9%81%97/%E7%99%BE%E9%A2%98%20%E5%85%B6%E4%B8%80%20%E5%A4%A9%E6%A2%AF/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512575.jpg" onerror="onerror=null;src='/images/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">百题 其一 天梯</div></div></a></div><div class="next-post pull-right"><a href="/2025/04/27/%E5%A4%87%E8%B5%9B/%E5%A4%87%E8%B5%9B%20%E5%85%B6%E4%B8%80%20%20%20%E6%B9%96%E5%8C%97%E4%BF%A1%E5%88%9B%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071511317.jpg" onerror="onerror=null;src='/images/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">备赛 其一 湖北信创人工智能</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2025/02/02/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E5%8C%97%E8%88%AA%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%B8%80/" title="北航刷题笔记 其一"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512548.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-02-02</div><div class="title">北航刷题笔记 其一</div></div></a></div><div><a href="/2025/02/09/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E5%8C%97%E8%88%AA%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%B8%89/" title="北航刷题笔记 其三"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512548.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-02-09</div><div class="title">北航刷题笔记 其三</div></div></a></div><div><a href="/2025/02/09/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E5%8C%97%E8%88%AA%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%BA%8C/" title="北航刷题笔记 其二"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512548.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-02-09</div><div class="title">北航刷题笔记 其二</div></div></a></div><div><a href="/2025/02/09/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E5%8C%97%E8%88%AA%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0%20%E5%85%B6%E4%BA%94/" title="北航刷题笔记 其五"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512548.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-02-09</div><div class="title">北航刷题笔记 其五</div></div></a></div><div><a href="/2025/02/09/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E5%8C%97%E8%88%AA%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0%20%E5%85%B6%E5%85%AD/" title="北航刷题笔记 其六"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512548.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-02-09</div><div class="title">北航刷题笔记 其六</div></div></a></div><div><a href="/2025/02/09/C%E6%88%96C++%E7%AE%97%E6%B3%95/%E5%8C%97%E8%88%AA%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0%20%E5%85%B6%E5%9B%9B/" title="北航刷题笔记 其四"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512548.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2025-02-09</div><div class="title">北航刷题笔记 其四</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif" onerror="this.onerror=null;this.src='/images/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/%E5%B8%9D%E5%90%9B%E5%96%9D%E8%8C%B6.gif" alt="status"/></div></div><div class="author-info__description">在这里随便逛逛</div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bullhorn anzhiyu-shake"></i><span>公告</span></div><div class="announcement_content">欢迎！</div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%BD%9C%E4%B8%9A%E7%AC%94%E8%AE%B0"><span class="toc-number">1.</span> <span class="toc-text">数据结构作业笔记</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%9F%BA%E4%BA%8E%E9%A1%BA%E5%BA%8F%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%E7%9A%84%E7%BA%BF%E6%80%A7%E8%A1%A8%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.1.</span> <span class="toc-text">1.基于顺序存储结构的线性表实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E6%80%9D%E8%B7%AF%EF%BC%9A"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 思路：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E5%90%84%E9%83%A8%E5%88%86%E7%9A%84%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%EF%BC%9A"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2各部分的功能实现：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E5%8E%9F%E7%A0%81"><span class="toc-number">1.1.3.</span> <span class="toc-text">1.3原码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%9F%BA%E4%BA%8E%E9%93%BE%E5%BC%8F%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84%E7%9A%84%E7%BA%BF%E6%80%A7%E8%A1%A8%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.2.</span> <span class="toc-text">2.基于链式存储结构的线性表实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E6%80%9D%E8%B7%AF%EF%BC%9A"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.1思路：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E5%90%84%E9%83%A8%E5%88%86%E7%9A%84%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%EF%BC%9A-1"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2各部分的功能实现：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E5%8E%9F%E7%A0%81-1"><span class="toc-number">1.2.3.</span> <span class="toc-text">1.3原码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%9F%BA%E4%BA%8E%E4%BA%8C%E5%8F%89%E9%93%BE%E8%A1%A8%E7%9A%84%E4%BA%8C%E5%8F%89%E6%A0%91%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.3.</span> <span class="toc-text">3.基于二叉链表的二叉树实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E6%80%9D%E8%B7%AF%EF%BC%9A-1"><span class="toc-number">1.3.1.</span> <span class="toc-text">1.1思路：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E5%90%84%E9%83%A8%E5%88%86%E7%9A%84%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%EF%BC%9A-2"><span class="toc-number">1.3.2.</span> <span class="toc-text">1.2各部分的功能实现：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E5%8E%9F%E7%A0%81%EF%BC%9A"><span class="toc-number">1.3.3.</span> <span class="toc-text">1.3原码：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%9F%BA%E4%BA%8E%E9%82%BB%E6%8E%A5%E8%A1%A8%E7%9A%84%E5%9B%BE%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.4.</span> <span class="toc-text">4.基于邻接表的图实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1%E6%80%9D%E8%B7%AF%EF%BC%9A-2"><span class="toc-number">1.4.1.</span> <span class="toc-text">1.1思路：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2%E5%90%84%E9%83%A8%E5%88%86%E7%9A%84%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0%EF%BC%9A-3"><span class="toc-number">1.4.2.</span> <span class="toc-text">1.2各部分的功能实现：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3%E5%8E%9F%E7%A0%81-2"><span class="toc-number">1.4.3.</span> <span class="toc-text">1.3原码</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/05/10/%E7%99%BE%E9%A2%98%E6%8B%BE%E9%81%97/%E7%99%BE%E9%A2%98%20%E5%85%B6%E4%B8%89/" title="百题 其三"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512575.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="百题 其三"/></a><div class="content"><a class="title" href="/2025/05/10/%E7%99%BE%E9%A2%98%E6%8B%BE%E9%81%97/%E7%99%BE%E9%A2%98%20%E5%85%B6%E4%B8%89/" title="百题 其三">百题 其三</a><time datetime="2025-05-09T16:00:00.000Z" title="发表于 2025-05-10 00:00:00">2025-05-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/28/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%20%E5%85%B6%E4%B8%89%20OpenCV%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" title="深度学习 其三 OpenCV图像处理"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512122.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="深度学习 其三 OpenCV图像处理"/></a><div class="content"><a class="title" href="/2025/04/28/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%20%E5%85%B6%E4%B8%89%20OpenCV%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/" title="深度学习 其三 OpenCV图像处理">深度学习 其三 OpenCV图像处理</a><time datetime="2025-04-27T16:00:00.000Z" title="发表于 2025-04-28 00:00:00">2025-04-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/27/C++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%AD%A6%E4%B9%A0/C++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%20%E5%85%B6%E4%B8%80%20%E8%B5%B0%E8%BF%B7%E5%AE%AB/" title="C++面向对象 其一 走迷宫"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512695.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="C++面向对象 其一 走迷宫"/></a><div class="content"><a class="title" href="/2025/04/27/C++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%AD%A6%E4%B9%A0/C++%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%20%E5%85%B6%E4%B8%80%20%E8%B5%B0%E8%BF%B7%E5%AE%AB/" title="C++面向对象 其一 走迷宫">C++面向对象 其一 走迷宫</a><time datetime="2025-04-26T16:00:00.000Z" title="发表于 2025-04-27 00:00:00">2025-04-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/27/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%20%20%E5%85%B6%E4%BA%8C%20%20%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%92%8C%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" title="深度学习 其二 神经网络和卷积神经网络"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512122.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="深度学习 其二 神经网络和卷积神经网络"/></a><div class="content"><a class="title" href="/2025/04/27/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%20%20%E5%85%B6%E4%BA%8C%20%20%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%92%8C%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/" title="深度学习 其二 神经网络和卷积神经网络">深度学习 其二 神经网络和卷积神经网络</a><time datetime="2025-04-26T16:00:00.000Z" title="发表于 2025-04-27 00:00:00">2025-04-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/04/27/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%20%E5%85%B6%E4%B8%80%20%E5%88%9D%E8%AF%86/" title="深度学习 其一 图像识别算法"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/202504071512122.jpg" onerror="this.onerror=null;this.src='/images/404.jpg'" alt="深度学习 其一 图像识别算法"/></a><div class="content"><a class="title" href="/2025/04/27/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%20%E5%85%B6%E4%B8%80%20%E5%88%9D%E8%AF%86/" title="深度学习 其一 图像识别算法">深度学习 其一 图像识别算法</a><time datetime="2025-04-26T16:00:00.000Z" title="发表于 2025-04-27 00:00:00">2025-04-27</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-上班摸鱼中.svg" alt="距离月入25k也就还差一个大佬带我~" title="距离月入25k也就还差一个大佬带我~"/><div id="runtimeTextTip"></div></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="博客框架为Hexo_v5.4.0" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.1.5/img/badge/Frame-Hexo.svg" alt="博客框架为Hexo_v5.4.0"/></a><a class="github-badge" target="_blank" href="https://blog.anheyu.com/" style="margin-inline:5px" data-title="本站使用AnZhiYu主题" title="本站使用AnZhiYu主题"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.9/img/Theme-AnZhiYu-2E67D3.svg" alt="本站使用AnZhiYu主题"/></a></p></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2024 - 2025 By <a class="footer-bar-link" href="/" title="fufhaha" target="_blank">fufhaha</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">22</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">0</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/帝君喝茶.gif" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/images/404.jpg&quot;" data-lazy-src="/images/茶水.gif" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/fcircle/"><i class="anzhiyufont anzhiyu-icon-artstation faa-tada" style="font-size: 0.9em;"></i><span> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/air-conditioner/"><i class="anzhiyufont anzhiyu-icon-fan faa-tada" style="font-size: 0.9em;"></i><span> 小空调</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/c/" style="font-size: 0.88rem;">c++<sup>1</sup></a><a href="/tags/c-c/" style="font-size: 0.88rem;">c/c++<sup>11</sup></a><a href="/tags/%E5%88%B7%E9%A2%98/" style="font-size: 0.88rem;">刷题<sup>3</sup></a><a href="/tags/%E5%8C%97%E8%88%AA/" style="font-size: 0.88rem;">北航<sup>6</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 0.88rem;">博客<sup>1</sup></a><a href="/tags/%E5%9B%BE%E5%83%8F%E8%AF%86%E5%88%AB%E7%AE%97%E6%B3%95/" style="font-size: 0.88rem;">图像识别算法<sup>4</sup></a><a href="/tags/%E5%A4%87%E8%B5%9B/" style="font-size: 0.88rem;">备赛<sup>1</sup></a><a href="/tags/%E5%A4%A9%E6%A2%AF%E8%B5%9B/" style="font-size: 0.88rem;">天梯赛<sup>1</sup></a><a href="/tags/%E5%AE%9E%E6%88%98/" style="font-size: 0.88rem;">实战<sup>2</sup></a><a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" style="font-size: 0.88rem;">嵌入式<sup>1</sup></a><a href="/tags/%E6%8C%87%E5%8D%97/" style="font-size: 0.88rem;">指南<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 0.88rem;">数据结构<sup>1</sup></a><a href="/tags/%E6%96%B0%E9%A2%86%E5%9F%9F/" style="font-size: 0.88rem;">新领域<sup>1</sup></a><a href="/tags/%E6%B4%9B%E8%B0%B7/" style="font-size: 0.88rem;">洛谷<sup>3</sup></a><a href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/" style="font-size: 0.88rem;">深度学习<sup>4</sup></a><a href="/tags/%E6%B8%B8%E6%88%8F%E5%B0%8F%E9%A1%B9%E7%9B%AE/" style="font-size: 0.88rem;">游戏小项目<sup>1</sup></a><a href="/tags/%E6%B9%96%E5%8D%97%E5%B7%A5%E4%B8%9A%E5%A4%A7%E5%AD%A6/" style="font-size: 0.88rem;">湖南工业大学<sup>1</sup></a><a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 0.88rem;">笔记<sup>13</sup></a><a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 0.88rem;">算法<sup>6</sup></a><a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/" style="font-size: 0.88rem;">蓝桥杯<sup>1</sup></a><a href="/tags/%E9%A1%B9%E7%9B%AE%E8%AE%B2%E8%A7%A3/" style="font-size: 0.88rem;">项目讲解<sup>2</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8152976493" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("2024/10/07 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2024 By 安知鱼 V1.6.14",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 fufhaha 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("2024/10/07 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-下班啦.svg";
        img.title = "下班了就该开开心心的玩耍，嘿嘿~";
        img.alt = "下班了就该开开心心的玩耍，嘿嘿~";
      }

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="c/c++,笔记,数据结构"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><script defer="defer" id="ribbon" src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>